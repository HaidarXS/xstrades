var FLIPBOOK=FLIPBOOK||{};!function(e,t,o,a){e.fn.flipBook=function(e){return new FLIPBOOK.Main(e,this)},e.fn.swipeBook=function(e){return e.viewMode="swipe",new FLIPBOOK.Main(e,this)},e.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!0,thumbsCloseOnClick:!0,deeplinkingEnabled:!1,deeplinkingPrefix:"",assets:{preloader:"images/preloader.jpg",overlay:"images/overlay.png",flipMp3:"/sounds/turnPage.mp3",spinner:"images/spinner.gif"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerIfIE:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",pdfPageScale:1,pdfOutline:!0,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundImage:"",backgroundPattern:"",backgroundTransparent:!1,thumbSize:130,loadAllPages:!1,loadPagesF:2,loadPagesB:1,autoplayOnStart:!1,autoplayInterval:3e3,autoplayLoop:!0,skin:"light",layout:"1",menuOverBook:!1,menuFloating:!1,menuBackground:"",menuShadow:"",menuMargin:0,menuPadding:0,menuTransparent:!1,menu2OverBook:!0,menu2Floating:!1,menu2Background:"",menu2Shadow:"",menu2Margin:0,menu2Padding:0,menu2Transparent:!0,skinColor:"",skinBackground:"",btnColor:"",btnBackground:"none",btnSize:14,btnRadius:2,btnMargin:2,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColorHover:"",btnBackgroundHover:"",sideBtnColor:"#FFF",sideBtnBackground:"#00000033",sideBtnSize:30,sideBtnRadius:0,sideBtnMargin:0,sideBtnPaddingV:5,sideBtnPaddingH:0,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColorHover:"#FFF",sideBtnBackgroundHover:"#00000066",floatingBtnColor:"#EEE",floatingBtnBackground:"#00000044",floatingBtnSize:null,floatingBtnRadius:null,floatingBtnMargin:null,floatingBtnShadow:"",floatingBtnTextShadow:"",floatingBtnBorder:"",floatingBtnColorHover:"",floatingBtnBackgroundHover:"",btnOrder:["currentPage","btnFirst","btnPrev","btnNext","btnLast","btnZoomIn","btnZoomOut","btnRotateLeft","btnRotateRight","btnAutoplay","btnSearch","btnSelect","btnBookmark","btnToc","btnThumbs","btnShare","btnPrint","btnDownloadPages","btnDownloadPdf","btnSound","btnExpand","btnClose",],currentPage:{enabled:!0,title:"Current page",vAlign:"top",hAlign:"left",marginH:0,marginV:0,color:"",background:""},btnFirst:{enabled:!1,title:"First page",icon:"fa-angle-double-left",icon2:"first_page"},btnPrev:{enabled:!0,title:"Previous page",icon:"fa-angle-left",icon2:"chevron_left"},btnNext:{enabled:!0,title:"Next page",icon:"fa-angle-right",icon2:"chevron_right"},btnLast:{enabled:!1,title:"Last page",icon:"fa-angle-double-right",icon2:"last_page"},btnZoomIn:{enabled:!0,title:"Zoom in",icon:"fa-plus",icon2:"zoom_in"},btnZoomOut:{enabled:!0,title:"Zoom out",icon:"fa-minus",icon2:"zoom_out"},btnRotateLeft:{enabled:!1,title:"Rotate left",icon:"fas fa-undo"},btnRotateRight:{enabled:!1,title:"Rotate right",icon:"fas fa-redo"},btnAutoplay:{enabled:!0,title:"Autoplay",icon:"fa-play",icon2:"play_arrow",iconAlt:"fa-pause",iconAlt2:"pause"},btnSearch:{enabled:!1,title:"Search",icon:"fas fa-search",icon2:"search"},btnSelect:{enabled:!0,title:"Select tool",icon:"fas fa-i-cursor",icon2:"text_format"},btnBookmark:{enabled:!0,title:"Bookmark",icon:"fas fa-bookmark",icon2:"bookmark"},btnToc:{enabled:!0,title:"Table of Contents",icon:"fa-list-ol",icon2:"toc"},btnThumbs:{enabled:!0,title:"Pages",icon:"fa-th-large",icon2:"view_module"},btnShare:{enabled:!0,title:"Share",icon:"fa-link",icon2:"share",hideOnMobile:!0},btnPrint:{enabled:!0,title:"Print",icon:"fa-print",icon2:"print",hideOnMobile:!0},btnDownloadPages:{enabled:!0,title:"Download pages",icon:"fa-download",icon2:"file_download",url:"images/pages.zip",name:"allPages.zip"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",icon:"fa-file",icon2:"picture_as_pdf",url:null,openInNewWindow:!0,name:"allPages.pdf"},btnSound:{enabled:!0,title:"Volume",icon:"fa-volume-up",iconAlt:"fa-volume-off",icon2:"volume_up",iconAlt2:"volume_mute",hideOnMobile:!0},btnExpand:{enabled:!0,title:"Toggle fullscreen",icon:"fa-expand",icon2:"fullscreen",iconAlt:"fa-compress",iconAlt2:"fullscreen_exit"},btnClose:{title:"Close",icon:"fa-times",icon2:"close",hAlign:"right",vAlign:"top",size:20},btnShareIfMobile:!1,btnSoundIfMobile:!1,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null,url:null},pdf:{annotationLayer:!1},pageTextureSize:2048,pageTextureSizeSmall:1024,pageTextureSizeTreshold:1024,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,zoomMin:.95,zoomMax2:null,zoomSize:null,zoomStep:2,zoomTime:0,wheelDisabledNotFullscreen:!1,arrowsDisabledNotFullscreen:!1,arrowsAlwaysEnabledForNavigation:!1,responsiveView:!0,responsiveViewTreshold:768,minPixelRatio:1,pageFlipDuration:1,contentOnStart:!1,thumbnailsOnStart:!1,sideMenuOverBook:!0,sideMenuOverMenu:!1,sideMenuOverMenu2:!0,lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxResetOnOpen:!0,lightboxBackground:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",lightboxCSS:"",lightboxPreload:!1,disableImageResize:!0,pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:-20,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,lightColor:16777215,lightPositionX:0,lightPositionZ:1400,lightPositionY:350,lightIntensity:.6,shadows:!0,shadowMapSize:1024,shadowOpacity:.2,shadowDistance:15,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:5,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",antialias:!1,preloaderText:"",fillPreloader:{enabled:!1,imgEmpty:"images/logo_light.png",imgFull:"images/logo_dark.png"},logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,printMenu:!0,downloadMenu:!0,cover:!0,backCover:!0,textLayer:!1,googleAnalyticsTrackingCode:null,minimumAndroidVersion:6,strings:{print:"Print",printLeftPage:"Print left page",printRightPage:"Print right page",printCurrentPage:"Print current page",printAllPages:"Print all pages",download:"Download",downloadLeftPage:"Download left page",downloadRightPage:"Download right page",downloadCurrentPage:"Download current page",downloadAllPages:"Download all pages",bookmarks:"Bookmarks",bookmarkLeftPage:"Bookmark left page",bookmarkRightPage:"Bookmark right page",bookmarkCurrentPage:"Bookmark current page",search:"Search",findInDocument:"Find in document",pagesFoundContaining:"pages found containing",thumbnails:"Thumbnails",tableOfContent:"Table of Contents",share:"Share",pressEscToClose:"Press ESC to close"},mobile:{}},FLIPBOOK.Main=function(a,r){var l=this;this.elem=r,this.$elem=e(r),this.$body=e("body"),this.body=this.$body[0],this.$window=e(t),this.bodyHasVerticalScrollbar=function(){return l.body.scrollHeight>t.innerHeight},this.isZoomed=function(){return 1<l.zoom},this.options={};var d,h=o.createElement("div").style,p=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t=0,o=e.length;t<o;t++)if(e[t]+"ransform" in h)return e[t].substr(0,e[t].length-1);return!1}(),c=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),g=(d="perspective",(""===p?d:p+(d=d.charAt(0).toUpperCase()+d.substr(1)))in h);this.msie=t.navigator.userAgent.indexOf("MSIE "),this.isAndroid=c,this.has3d=g,this.hasWebGl=function(e){if(t.WebGLRenderingContext)for(var a=o.createElement("canvas"),r=["webgl","experimental-webgl","moz-webgl","webkit-3d"],l=!1,d=0;d<4;d++)try{if((l=a.getContext(r[d]))&&"function"==typeof l.getParameter)return!0}catch(h){}return!1}(),0<function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(t=navigator.userAgent,null!=RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)));return e}()&&(this.hasWebGl=!1,this.options.isIE=!0),this.thumbsShowing=!1,this.bookmarkShowing=!1,this.searchingString=!1,this.tocShowing=!1,this.menuShowing=!0;var f={2:{currentPage:{vAlign:"bottom",hAlign:"center"},btnAutoplay:{hAlign:"left"},btnSound:{hAlign:"left"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSearch:{hAlign:"left"},btnBookmark:{hAlign:"left"},btnToc:{hAlign:"left"},btnThumbs:{hAlign:"left"},btnShare:{hAlign:"right"},btnPrint:{hAlign:"right"},btnDownloadPages:{hAlign:"right"},btnDownloadPdf:{hAlign:"right"},btnSelect:{hAlign:"right"}},3:{menuTransparent:(this.fullscreenActive=!1,!0),menu2Transparent:!1,menu2OverBook:!1,menu2Padding:5,btnMargin:5,currentPage:{vAlign:"top",hAlign:"center"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnThumbs:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnSearch:{vAlign:"top",hAlign:"left"},btnSelect:{vAlign:"top",hAlign:"right"},btnShare:{vAlign:"top",hAlign:"right"},btnAutoplay:{hAlign:"right"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSound:{hAlign:"right"},menuPadding:5},4:{menu2Transparent:!1,menu2OverBook:!1,sideMenuOverMenu2:!1,currentPage:{vAlign:"top",hAlign:"center"},btnAutoplay:{vAlign:"top",hAlign:"left"},btnSound:{vAlign:"top",hAlign:"left"},btnExpand:{vAlign:"top",hAlign:"right"},btnZoomIn:{vAlign:"top",hAlign:"right"},btnZoomOut:{vAlign:"top",hAlign:"right"},btnSearch:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnThumbs:{vAlign:"top",hAlign:"left"},btnShare:{vAlign:"top",hAlign:"right"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnSelect:{vAlign:"top",hAlign:"right"}}},b={dark:{skinColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538"},light:{skinColor:"#222",btnColorHover:"#000",skinBackground:"#FFF",floatingBtnColor:"#FFF",floatingBtnBackground:"#00000055"},gradient:{skinColor:"#EEE",btnColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538DD",zoomMin:.85,menuOverBook:!0,menu2OverBook:!0,sideMenuOverMenu:!0,sideMenuOverMenu2:!0,menuBackground:"linear-gradient(to top, rgba(0, 0, 0, 0.65) 0%, transparent 100%)",menu2Background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.65) 0%, transparent 100%)"}};for(var m in b)a.skin==m&&(a=e.extend(!0,{},b[m],a));for(var m in f)String(a.layout)===m&&(a=e.extend(!0,{},f[m],a));this.options=e.extend(!0,{},e.fn.flipBook.options,a);var k,v,w,$,P,B,S,x,O=this.options;if(O.isMobile=e.browser.mobile||u||c,O.isMobile)for(var m in O.mobile)O[m]=O.mobile[m];if(this.strings=O.strings,O.pageShininess=O.pageShininess/2,this.s=0,O.googleAnalyticsTrackingCode&&(this.gaCode=O.googleAnalyticsTrackingCode,t.ga||(v=o,w="script",$="ga",(k=t).GoogleAnalyticsObject=$,k.ga=k.ga||function(){(k.ga.q=k.ga.q||[]).push(arguments)},k.ga.l=1*new Date,P=v.createElement(w),B=v.getElementsByTagName(w)[0],P.async=1,P.src="https://www.google-analytics.com/analytics.js",B.parentNode.insertBefore(P,B)),ga("create",this.gaCode,"auto")),e("head").append("<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />"),O.isMobile&&(O.singlePageMode=!!O.singlePageModeIfMobile||O.singlePageMode,O.viewModeMobile&&(O.viewMode=O.viewModeMobile),O.pageTextureSizeMobile&&(O.pageTextureSize=O.pageTextureSizeMobile)),"3dSinglePage"==O.viewMode&&(O.singlePageMode=!0),"2dSinglePage"==O.viewMode&&(O.singlePageMode=!0,O.viewMode="2d"),O.singlePageMode&&("2d"!=O.viewMode&&"swipe"!=O.viewMode&&(O.viewMode="3d"),O.rightToLeft&&(O.viewMode="swipe")),O.singlePageMode&&"3d"==O.viewMode&&(O.rightToLeft=!1),"simple"==O.viewMode&&(O.viewMode="3d",O.instantFlip=!0),"webgl"==O.viewMode&&(!this.hasWebGl||parseFloat(!!(x=(S=(S||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&x[1])<O.minimumAndroidVersion&&this.isAndroid)&&(O.viewMode="3d"),"3d"!=O.viewMode||l.has3d||(O.viewMode="2d"),this.webgl="webgl"==O.viewMode,O.menuFloating&&(O.menuOverBook=!0,O.sideMenuOverMenu=!0),O.menu2Floating&&(O.menu2OverBook=!0,O.sideMenuOverMenu2=!0),O.menuTransparent&&(O.menuOverBook=!0,O.sideMenuOverMenu=!0,O.menuBackground="none"),O.menu2Transparent?(O.menu2OverBook=!0,O.sideMenuOverMenu2=!0,O.menu2Background="none"):O.sideMenuOverMenu2=!1,O.menuOverBook&&(O.sideMenuOverMenu=!0),O.menu2OverBook&&(O.sideMenuOverMenu2=!0),O.isMobile&&O.pdfBrowserViewerIfMobile&&O.pdfUrl)O.lightBox&&!O.lightBoxOpened?this.$elem.on("touched click",function(){y()}).css("cursor","pointer"):y();else if(O.isIE&&O.pdfBrowserViewerIfIE&&O.pdfUrl)O.lightBox&&!O.lightBoxOpened?this.$elem.on("touched click",function(){y()}).css("cursor","pointer"):y();else{O.pdfMode=Boolean(O.pdfUrl&&""!=O.pdfUrl);var _=O.zoomLevels;if(_){for("string"==typeof _&&(_=_.split(",")),i=0;i<_.length;i++)_[i]=Number(_[i]);O.zoomLevels=_,O.zoomMin=_[0]}O.backgroundTransparent&&(O.backgroundColor="none"),this.wrapper=e(o.createElement("div")).addClass("flipbook-main-wrapper"),""!=O.backgroundColor&&this.wrapper.css("background",O.backgroundColor),""!=O.backgroundPattern&&this.wrapper.css("background","url("+O.backgroundPattern+") repeat"),""!=O.backgroundImage&&(this.wrapper.css("background","url("+O.backgroundImage+") no-repeat"),this.wrapper.css("background-size","cover")),this.bookLayer=e(o.createElement("div")).addClass("flipbook-bookLayer").appendTo(l.wrapper),O.hideMenu&&(this.bookLayer.css("bottom","0"),O.menuOverBook=!0),this.book=e(o.createElement("div")).addClass("book").appendTo(l.bookLayer),O.preloader?this.preloader=O.preloader:e(".flipbook-preloader").length&&O.lightBox?this.preloader=e(".flipbook-preloader"):this.preloader=e('<div class="flipbook-preloader cssload-container"><div class="cssload-speeding-wheel"/><div class="flipbook-loading-text"></div><div class="flipbook-loading-bg"></div></div>'),e(".flipbook-loading-text").text(O.preloaderText),this.setLoadingProgress(0),!O.deeplinkingPrefix&&O.deeplinking&&O.deeplinking.prefix&&(O.deeplinkingPrefix=O.deeplinking.prefix),O.deeplinkingEnabled=O.deeplinkingPrefix||O.deeplinkingEnabled||O.deeplinking&&O.deeplinking.enabled,O.deeplinkingEnabled&&(C(),e(t).bind("hashchange",function(e){C()})),this.dispose=function(){this.disposed=!0},O.main=this;var T={_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var o=this._events[e].indexOf(t);-1<o&&this._events[e].splice(o,1)}},trigger:function(e){if(this._events[e]){var t=0,o=this._events[e].length;if(o)for(;t<o;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}}};T.on("pageLoaded",function(e){O.pages[e.index]=O.pages[e.index]||{},O.pages[e.index].canvas=O.pages[e.index].canvas||{},O.pages[e.index].canvas[e.size]=e.canvas,l.Book&&l.Book.onPageLoaded&&l.Book.onPageLoaded(e.index,e.size),l.searchingString&&l.mark(l.searchingString)}),T.on("pageUnloaded",function(e){e.unloadedPages.forEach(function(e){l.Book.onPageUnloaded&&l.Book.onPageUnloaded(e.index,e.size)})}),T.on("pdfinit",function(){O.tableOfContent=l.pdfService.outline||O.tableOfContent,O.pageMode=l.pdfService.double?"doubleWithCover":"singlePage",O.doublePage=l.pdfService.double,l.viewportOriginal=l.pdfService.viewports[0],O.firstPage={width:l.pdfService.viewports[0].width,height:l.pdfService.viewports[0].height,ratio:l.pdfService.viewports[0].width/l.pdfService.viewports[0].height},1<l.pdfService.numPages&&(O.secondPage={width:l.pdfService.viewports[1].width,height:l.pdfService.viewports[1].height,ratio:l.pdfService.viewports[1].width/l.pdfService.viewports[1].height}),O.numPages=l.pdfService.numPages;for(var t=[],o=0;o<O.numPages;o++){var a={canvas:{}};O.pages&&O.pages[o]?e.extend(a,O.pages[o]):a.title=o+1,t[o]=a}O.pages=t,l.book.height();var r=O.pageTextureSize;O.pageWidth=parseInt(r*l.viewportOriginal.width/l.viewportOriginal.height),O.pageHeight=r,O.pw=O.pageWidth,O.ph=O.pageHeight,O.zoomSize=O.zoomSize||O.pageTextureSize,l.start()}),T.on("toolSelect",function(){l.bookLayer.removeClass("flipbook-move"),l.btnSelect&&l.btnSelect.addClass("flipbook-btn-active"),e(".flipbook-page-htmlContent").css("userSelect","auto")}),T.on("toolMove",function(){l.bookLayer.addClass("flipbook-move"),l.btnSelect&&l.btnSelect.removeClass("flipbook-btn-active"),e(".flipbook-page-htmlContent").css("userSelect","none")}),this.model=T,O.lightBox?(O.btnClose.enabled=!0,this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,O),this.lightboxStartedTimes=0,this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.preloader.appendTo(this.$body).css("position","fixed"),this.$elem.css("cursor","pointer").bind("tap click",function(t){l.lightboxStartPage=e(this).attr("data-page"),l.started?(l.lightboxStart(),O.lightBoxFullscreen&&setTimeout(function(){l.toggleExpand()},0)):(L(),O.lightBoxFullscreen&&setTimeout(function(){l.toggleExpand()},100))}),O.lightBoxOpened?(L(),e(this).trigger("lightboxLoadingStarted")):O.lightboxPreload&&("undefined"!=typeof IScroll||FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc]||l.loadScript(FLIPBOOK.iscrollSrc,function(){}),O.pdfMode&&("undefined"!=typeof pdfjsLib||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc]||l.loadScript(FLIPBOOK.pdfjsSrc,function(){}),void 0!==FLIPBOOK.PdfService||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc]||l.loadScript(FLIPBOOK.pdfServiceSrc,function(){}),O.btnSearch.enabled&&(FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc]||l.loadScript(FLIPBOOK.markSrc,function(){}))),"webgl"==O.viewMode&&("undefined"!=typeof THREE||FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc]||l.loadScript(FLIPBOOK.threejsSrc,function(){}))),this.fullscreenElement=o.documentElement):(O.btnClose.enabled=!1,this.preloader.appendTo(this.wrapper),this.wrapper.appendTo(this.$elem),this.fullscreenElement=this.$elem[0],L())}function y(){O.pdfBrowserViewerFullscreen?t.open(O.pdfUrl,O.pdfBrowserViewerFullscreenTarget):e('<object type="application/pdf"/>').width("100%").height("100%").attr("data",O.pdfUrl).appendTo(l.$elem)}function C(){if(!l.disposed){var e=l.getPageFromHash(),t=e;e&&(e=O.rightToLeft?O.pages.length-e+1:e,l.started?l.Book&&(l.lightbox&&(l.lightbox.openLightbox(),l.lightboxStart()),l.goToPage(e,!0)):(O.startPage=t,O.lightBox&&(L(),O.lightBoxFullscreen&&setTimeout(function(){l.toggleExpand()},100))))}}function L(){if(O.fillPreloader.enabled){l.$fillPreloader=e("<div>").addClass("flipbook-fillPreloader");var t=new Image;t.src=O.fillPreloader.imgEmpty,t.onload=function(){var o=new Image;o.src=O.fillPreloader.imgFull,o.onload=function(){e(t).appendTo(l.$fillPreloader),l.$fillPreloaderImg=e(o).appendTo(l.$fillPreloader),l.$fillPreloader.appendTo(l.wrapper),M()}}}else M()}function M(){l.id=Date.now(),l.addPageItems(),O.pdfMode?l.initPdf(O.btnSearch.enabled):(O.btnSearch.enabled=!1,l.initJpg()),l.setLoadingProgress(.1)}},FLIPBOOK.Main.prototype={start:function(){this.options.dp&&(this.options.doublePage=!0,this.options.pageMode="doubleWithCover"),this.started||(this.model.pageW=this.options.pageWidth,this.model.bookW=2*this.options.pageWidth,this.options.singlePageMode&&(this.model.bookW/=2),this.model.pageH=this.options.pageHeight,this.model.bookH=this.options.pageHeight,this.options.numPages%2==0?this.options.numSheets=(this.options.numPages+2)/2:this.options.numSheets=(this.options.numPages+1)/2,this.started=!0,this.options.lightBox&&(this.lightbox.openLightbox(),this.lightboxStart()),this.createBook(),this.updateSkinColors())},updateSkinColors:function(){var e=this.options;e.skinColor&&this.wrapper.find(".skin-color").css("color",e.skinColor),e.skinBackground&&this.wrapper.find(".skin-color-bg").css("background",e.skinBackground)},lightboxStart:function(){var t=this;this.started||this.start(),void 0!==this.Book?(this.Book.enable(),this.options.contentOnStart&&this.toggleToc(!0),this.options.thumbnailsOnStart&&this.toggleThumbs(!0),this.lightboxStartPage?this.goToPage(this.lightboxStartPage,!0):this.options.lightboxStartPage&&this.goToPage(this.options.lightboxStartPage,!0),this.lightboxStartedTimes++,this.gaCode&&ga("send",{hitType:"event",eventCategory:"Flipbook : "+this.options.name,eventAction:"lightbox open",eventLabel:"lightbox open",eventValue:this.lightboxStartedTimes,nonInteraction:!0}),this.updateCurrentPage(),this.initColors(),this.resize(),e(this).trigger("lightboxOpened")):setTimeout(function(){t.lightboxStart()},100)},setHash:function(e){e<1&&(e=1),this.options.deeplinkingEnabled&&this.Book.enabled&&(t.location.hash="#"+this.options.deeplinkingPrefix+String(e))},clearHash:function(){t.location.hash=""},getPageFromHash:function(){var e=null,o=t.location.hash,a="#"+this.options.deeplinkingPrefix;return -1!==o.indexOf(a)&&isNaN(e=parseInt(t.location.hash.replace(/#/g,"").replace(this.options.deeplinkingPrefix,"")))&&(e=0),e},initColors:function(){this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin),this.updateSkinColors()},lightboxEnd:function(){screenfull.isFullscreen&&screenfull.exit(),t.location.hash&&this.clearHash(),this.setLoadingProgress(1),this.Book.disable()},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage();var e=this.Book.rightIndex||0;this.options.rightToLeft&&(e=this.options.pages.length-e),this.pdfService&&this.pdfService.setRightIndex(e)},updateCurrentPage:function(){if(void 0!==this.currentPage){var t,o=this.options.rightToLeft,a=this.options.numPages,r=this.Book.rightIndex||0;o&&(r=this.options.pages.length-r),this.options.singlePageMode||this.Book.singlePage?(o&&r--,t=r+1,this.currentPageNumber=r,this.setHash(t),this.cPage=[r]):(this.cPage=a<r||r==a&&a%2==0?[(t=a)-1]:r<1?(t=1,[0]):(t=String(r)+"-"+String(r+1),[r-1,r]),this.setHash(r)),o?(this.enableNext(0<r),this.enablePrev(r<a-1)):(this.enablePrev(0<r),this.enableNext(r<a-1)),2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show()),this.s&&0<this.options.pdfPageScale&&this.goToPage(0),t!=this.currentPageValue&&(this.currentPageValue=String(t),this.currentPage.text(t+" / "+String(a)),this.currentPageInput.width(this.currentPageHolder.width()),this.resize(),e(this).trigger({type:"pagechange",page:this.currentPageValue,name:this.options.name}))}},initJpg:function(){var e=this;1==this.options.numPages&&(this.options.viewMode="swipe",this.options.singlePageMode=!0,this.webgl=!1),this.loadPage(0,this.options.pageTextureSize,function(){if(e.setLoadingProgress(.5),1==e.options.pages.length){var t=e.options.pages[0].img;e.options.pw=t.width,e.options.ph=t.height,e.options.pageWidth=t.width,e.options.pageHeight=t.height,e.options.pageMode="singlePage",e.options.doublePage=!1,e.options.zoomSize=e.options.zoomSize||t.height,e.setLoadingProgress(.7),e.start()}else e.loadPage(1,e.options.pageTextureSize,function(){var t=e.options.pages[0].img,o=e.options.pages[1].img,a=t.width/t.height,r=o.width/o.height;e.options.pw=t.width,e.options.ph=t.height,e.options.pageWidth=t.width,e.options.pageHeight=t.height,e.options.pageMode=1.5<r/a?"doubleWithCover":"singlePage",e.options.doublePage=1.5<r/a,e.options.zoomSize=e.options.zoomSize||t.height,e.setLoadingProgress(.7),e.start()})})},initPdf:function(e){if(!this.started){("swipe"==this.options.viewMode||this.options.btnSearch.enabled)&&(this.options.textLayer=!0);var o=this;if("undefined"==typeof pdfjsLib){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc])return void o.loadScript(FLIPBOOK.pdfjsSrc,function(){o.initPdf(e)});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc])return void setTimeout(function(){o.initPdf(e)},100)}if(this.setLoadingProgress(.2),void 0===FLIPBOOK.PdfService){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc])return void o.loadScript(FLIPBOOK.pdfServiceSrc,function(){o.initPdf(e)});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc])return void setTimeout(function(){o.initPdf(e)},100)}this.setLoadingProgress(.3),t.CanvasPixelArray&&(CanvasPixelArray.prototype.set=function(e){for(var t=this.length,o=0;o<t;o++)this[o]=e[o]}),PDFJS=pdfjsLib,pdfjsLib.externalLinkTarget=pdfjsLib.LinkTarget.BLANK,pdfjsLib.GlobalWorkerOptions.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc,"https:"==location.protocol&&(o.options.pdfUrl=o.options.pdfUrl.replace("http://","https://"));var a={cMapPacked:!0,cMapUrl:"cmaps/",disableAutoFetch:!0,disableStream:!0,url:o.options.pdfUrl};this.pdfinitStarted||(this.pdfinitStarted=!0,pdfjsLib.getDocument(a).then(function(e){1==(o.pdfDocument=e)._pdfInfo.numPages&&(o.options.viewMode="swipe",o.options.singlePageMode=!0,o.webgl=!1),o.pdfService=new FLIPBOOK.PdfService(e,o.model,o.options),o.options.thumbLoaded=function(e){o.options.thumbs=o.options.thumbs||[],o.options.thumbs[e.index]=e},o.setLoadingProgress(.5),o.options.tableOfContent&&o.options.tableOfContent.length,o.pdfService.init()}))}},loadPage:function(t,a,r){var l=this;if(this.options.pdfMode)this.loadPageFromPdf(t,a,r);else{l=this;var d=this.options.pages[t];d.img?d.imgLoaded?l.pageLoaded({index:t,size:a,image:d.img,htmlContent:d.htmlContentDiv},r):setTimeout(function(){l.loadPage(t,a,r)},300):(d.img=o.createElement("img"),d.img.setAttribute("id",t),d.img.onload=function(){d.imgLoaded=!0,d.htmlContent&&(d.htmlContentDiv=e(o.createElement("div")).addClass("flipbook-page-htmlContent").append(e(d.htmlContent))),l.pageLoaded({index:t,size:a,image:d.img,htmlContent:d.htmlContentDiv},r)},"webgl"==this.options.viewMode&&(d.img.crossOrigin="Anonymous"),"https:"==location.protocol&&(d.src=d.src.replace("http://","https://")),d.img.src=d.src)}},pageLoaded:function(e,t){t.call(this,e,t),this.options.loadAllPages&&e.index<this.options.numPages-1&&this.loadPage(e.index+1,e.size,function(){})},loadPageFromPdf:function(e,t,o){t=t||this.options.pageTextureSize,this.options.pages[e]?this.pdfService.renderBookPage(e,t,o):o.call(this)},getString:function(e){return this.options.strings[e]},mark:function(t){var o=e(".flipbook-page-htmlContent");o.unmark({done:function(){o.mark(t,{acrossElements:!0})}})},unmark:function(){this.searchingString=null,e(".flipbook-page-htmlContent").unmark()},setTool:function(e){this.tool=e,this.model.trigger(e)},toggleTool:function(){var e="toolSelect"==this.tool?"toolMove":"toolSelect";this.setTool(e)},toggleSound:function(){var e=this.options;e.sound?(e.sound=!1,this.btnSound.$icon.hide(),this.btnSound.$iconAlt.show()):(e.sound=!0,this.btnSound.$icon.show(),this.btnSound.$iconAlt.hide())},scrollPageIntoView:function(e){var t=this.options.rightToLeft?this.options.pages.length-e.pageNumber+1:e.pageNumber;this.goToPage(t)},loadScript:function(e,t){var r=this,l=o.createElement("script"),d=o.getElementsByTagName("script")[0];l.async=1,d.parentNode.insertBefore(l,d),FLIPBOOK.scriptsAdded[e]=!0,l.onload=l.onreadystatechange=function(o,d){(d||!l.readyState||/loaded|complete/.test(l.readyState))&&(l.onload=l.onreadystatechange=null,l=a,d||t&&t.call(r),FLIPBOOK.scriptsLoaded[e]=!0)},l.src=e},createBook:function(){var t=this,a=this.model,r=this.options;if("material"!=r.icons||FLIPBOOK.MaterialIconsLoaded||(FLIPBOOK.MaterialIconsLoaded=!0,e("head").append('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">')),"undefined"==typeof IScroll){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc])return void t.loadScript(FLIPBOOK.iscrollSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc])return void setTimeout(function(){t.createBook()},100)}if(this.options.btnSearch.enabled){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc])return void t.loadScript(FLIPBOOK.markSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.markSrc])return void setTimeout(function(){t.createBook()},100)}if(t.setLoadingProgress(.9),"webgl"==t.options.viewMode){if("undefined"==typeof THREE){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc])return void t.loadScript(FLIPBOOK.threejsSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc])return void setTimeout(function(){t.createBook()},100)}if(void 0===FLIPBOOK.BookWebGL){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookWebGlSrc])return void t.loadScript(FLIPBOOK.flipbookWebGlSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc])return void setTimeout(function(){t.createBook()},100)}}else if("swipe"==t.options.viewMode){if(void 0===FLIPBOOK.BookSwipe){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipBookSwipeSrc])return void t.loadScript(FLIPBOOK.flipBookSwipeSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSwipeSrc])return void setTimeout(function(){t.createBook()},100)}}else if(void 0===FLIPBOOK.Book3){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src])return void t.loadScript(FLIPBOOK.flipbookBook3Src,t.createBook);if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookBook3Src])return void setTimeout(function(){t.createBook()},100)}if(this.setLoadingProgress(1),this.initEasing(),"doubleWithCover"==t.options.pageMode&&2<t.options.pages.length){for(var l=[t.options.pages[0]],d=1;d<=t.options.pages.length-2;d++){var h=t.options.pages[d],p={src:h.src,thumb:h.thumb,title:h.title,htmlContent:h.htmlContent,side:"left"},c={src:h.src,thumb:h.thumb,title:h.title,htmlContent:h.htmlContent,side:"right"};l.push(p),l.push(c)}l.push(t.options.pages[t.options.pages.length-1]),t.options.pages=l}if(this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||(this.oddPages=!0,this.options.oddPages=!0,this.options.pages.push({src:this.options.assets.preloader,thumb:""})),0<t.options.pages.length)for(d=0;d<t.options.pages.length;d++)void 0!==t.options.pages[d].htmlContent&&(t.options.hasHtmlContent=!0,t.options.pages[d].htmlContent=e(t.options.pages[d].htmlContent));function u(){t.flipsound=o.createElement("audio"),t.flipsound.setAttribute("src",t.options.assets.flipMp3),t.flipsound.setAttribute("type","audio/mpeg")}if("webgl"==t.options.viewMode){var g=t.options;g.scroll=t.scroll,(g.parent=t).Book=new FLIPBOOK.BookWebGL(t.book[0],a,g),t.webglMode=!0,t.initSwipe(),u()}else"swipe"==t.options.viewMode?(t.Book=new FLIPBOOK.BookSwipe(t.book[0],t.bookLayer[0],a,r),t.initSwipe()):("2d"!=t.options.viewMode&&(t.options.viewMode="3d"),t.Book=new FLIPBOOK.Book3(t.book[0],a,r),t.initSwipe(),t.webglMode=!1,u());t.Book.enable(),t.book.hide().fadeIn("slow"),this.tocCreated=!1,this.createMenu(),this.onZoom(this.options.zoom),1==this.options.pages.length&&(this.rightToLeft=!1),FLIPBOOK.books=FLIPBOOK.books||{},FLIPBOOK.books[t.id]=t.Book;var f=e(t.Book);f.bind("loadPagesFromPdf",function(e,o,a,r){t.loadPagesFromPdf(o,a,r)}),f.bind("turnPageComplete",function(e){t.turnPageComplete()}),f.bind("initEasing",function(e){t.initEasing()}),f.bind("playFlipSound",function(e){t.playFlipSound()}),f.bind("closeLightbox",function(e){t.closeLightbox()}),f.bind("updateCurrentPage",function(e){t.updateCurrentPage()}),this.createLogo(),this.onBookCreated()},addPageItems:function(){var e=this.options.pages,t=this.id;for(var o in e){var a=e[o];if(a.items)for(var r in a.items){var l=a.items[r];switch(l.type){case"iframe":var d='<iframe src="'+l.src+'" width="'+l.width+'" height="'+l.height+'" style="position:absolute;top:'+l.y+"px;left:"+l.x+'px;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';a.htmlContent=a.htmlContent||"",a.htmlContent+=d;break;case"img":var h='<img src="'+l.src+'" style="position:absolute;top:'+l.y+"px;left:"+l.x+"px;width:"+l.width+"px;height:"+l.height+'px;bottom:auto;right:auto;">';a.htmlContent=a.htmlContent||"",a.htmlContent+=h;break;default:var p='<div data-bookid="'+t+'" data-page="'+(l.page||"")+'" data-url="'+(l.url||"")+'" style="position:absolute;top:'+l.y+"px;left:"+l.x+"px;width:"+l.width+"px;height:"+l.height+'px;background:#FFFF0033;cursor:pointer;" onclick="FLIPBOOK.onPageLinkClick(this)"></div>';a.htmlContent=a.htmlContent||"",a.htmlContent+=p}}}},onBookCreated:function(){var a=this.options,r=this;e(t).resize(function(){r.resize()}),a.rightToLeft?r.goToPage(Number(a.pages.length-Number(a.startPage)+1),!0):r.goToPage(Number(a.startPage),!0),this.updateCurrentPage(),o.addEventListener("keydown",function(e){if(r.Book.enabled&&!((!r.options.arrowsAlwaysEnabledForNavigation||37!=e.keyCode&&39!=e.keyCode)&&!r.options.lightBox&&!r.fullscreenActive&&(r.options.arrowsDisabledNotFullscreen||r.bodyHasVerticalScrollbar()))){switch((e=e||t.event).keyCode){case 37:r.prevPage();break;case 38:r.zoomIn();break;case 39:r.nextPage();break;case 40:r.zoomOut()}return!1}}),o.addEventListener("MSFullscreenChange",function(e){r.handleFsChange()}),o.addEventListener("mozfullscreenchange",function(e){r.handleFsChange()}),o.addEventListener("webkitfullscreenchange",function(e){r.handleFsChange()}),o.addEventListener("fullscreenchange",function(e){r.handleFsChange()}),this.zoom=a.zoomMin,this.bookLayer.bind("DOMMouseScroll",function(e){if(r.Book.enabled&&(r.options.lightBox||r.fullscreenActive||!r.options.wheelDisabledNotFullscreen&&!r.bodyHasVerticalScrollbar()))return e.stopPropagation(),e.preventDefault(),0<e.originalEvent.detail?r.zoomOut(e.originalEvent):r.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("mousewheel",function(e){if(r.Book.enabled&&(r.options.lightBox||r.fullscreenActive||!r.options.wheelDisabledNotFullscreen&&!r.bodyHasVerticalScrollbar()))return e.stopPropagation(),e.preventDefault(),e.originalEvent.wheelDelta<0?r.zoomOut(e.originalEvent):r.zoomIn(e.originalEvent),!1}),this.setTool("toolMove"),a.contentOnStart&&r.toggleToc(!0),a.thumbnailsOnStart&&r.toggleThumbs(!0),a.autoplayOnStart&&r.toggleAutoplay(!0),r.options.lightBox&&r.Book.disable(),r.Book.updateVisiblePages(),r.initColors(),r.resize(),r.Book.zoomTo(a.zoomMin),setTimeout(function(){r.resize()},200),setTimeout(function(){r.resize()},600),a.onbookcreated&&a.onbookcreated.call(this)},initSwipe:function(){if(1!=this.options.numPages){var e=this;t.jQuery(this.bookLayer).swipe({swipeStatus:function(t,o,a,r,l,d,h){if("start"==o)try{e.currentPageInput.trigger("blur")}catch(p){}if(!e.options.sideNavigationButtons||t.target!==e.arrowL[0]&&t.target!==e.arrowR[0]){if(("end"==o||"cancel"==o)&&l<200&&r<10){if("toolMove"==e.tool&&!e.options.doubleClickZoomDisabled){if(null==e.clickTimer)e.clickTimer=setTimeout(function(){(e.clickTimer=null,"touchend"==t.type)?t.changedTouches[0].pageX:"mouseup"==t.type&&t.offsetX},300);else{clearTimeout(e.clickTimer),e.clickTimer=null;var c=e.options.zoomTime;e.zoom>=e.options.zoomMax?e.zoomTo(e.options.zoomMin,c,t):e.zoomTo(e.options.zoomMax,c,t)}}}else{if(("up"==a||"down"==a)&&"move"==o||1<e.zoom||"toolSelect"==e.tool)return;e.Book.onSwipe(t,o,a,r,l,d,h)}}},pinchStatus:function(t,o,a,r,l,d,h){"start"==o&&(e.zoomStart=e.zoom),1<d&&"move"==o&&(t.preventDefault(),t.scale&&(h=t.scale),e.zoomTo(e.zoomStart*h,0,t))},fingers:2,pinchThreshold:0,allowPageScroll:"vertical",preventDefaultEvents:!1}),this.swipeEnabled=!0}},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuBottom.fadeOut(),this.currentPageHolder.fadeOut(),e(".flipbook-nav").fadeOut()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuBottom.height()+"px"),this.menuBottom.fadeIn(),this.currentPageHolder.fadeIn(),e(".flipbook-nav").fadeIn()),this.Book.onResize()},createIcon:function(t,a,r){var l;return l="material"==this.options.icons?e("<i>").addClass("material-icons flipbook-icon-material flipbook-menu-btn skin-color").attr("title",t.title).text(a?t.iconAlt2:t.icon2):e(o.createElement("span")).attr("aria-hidden","true").addClass(a?t.iconAlt:t.icon).addClass("flipbook-icon-fa flipbook-menu-btn skin-color fa"),r||l.addClass("skin-color-bg"),l},createButton:function(t){var a,r=this.options,l="top"==t.vAlign&&r.menu2Transparent||"top"!=t.vAlign&&r.menuTransparent,d=t.background||(l?r.floatingBtnBackground:r.btnBackground),h=t.backgroundHover||(l?r.floatingBtnBackgroundHover:r.btnBackgroundHover),p=t.color||(l?r.floatingBtnColor:r.btnColor),c=t.colorHover||(l?r.floatingBtnColorHover:r.btnColorHover),u=l?r.floatingBtnTextShadow:r.btnTextShadow,g=t.radius||(l?r.floatingBtnRadius:r.btnRadius),f=t.border||(l?r.floatingBtnBorder:r.btnBorder),b=l?r.floatingBtnMargin:r.btnMargin,m=e(o.createElement("span")),k="material"==r.icons?(t.size||r.btnSize)+8:t.size||r.btnSize,v=(t.size||r.btnSize)+24;function w(e){e.css({width:v+"px","font-size":k+"px",margin:b+"px","border-radius":g+"px","text-shadow":r.btnTextShadow,"box-shadow":r.btnShadow,border:f,color:p,background:d,"text-shadow":u}),p&&e.removeClass("skin-color"),d&&e.removeClass("skin-color-bg")}return m.$icon=this.createIcon(t).appendTo(m),w(m.$icon),t.iconAlt2&&(m.$iconAlt=this.createIcon(t,!0).appendTo(m).hide(),w(m.$iconAlt)),m.icon=t.icon,m.iconAlt=t.iconAlt,t.onclick&&m.bind("tap click",function(e){t.onclick()}),(c||h)&&m.mouseenter(function(){m.$icon.css({color:c,background:h}),m.$iconAlt&&m.$iconAlt.css({color:c,background:h})}).mouseleave(function(){m.$icon.css({color:p,background:d}),m.$iconAlt&&m.$iconAlt.css({color:p,background:d})}),a="top"==t.vAlign?r.menu2Floating?this.menuTC:"left"==t.hAlign?this.menuTL:"right"==t.hAlign?this.menuTR:this.menuTC:r.menuFloating?this.menuBC:"left"==t.hAlign?this.menuBL:"right"==t.hAlign?this.menuBR:this.menuBC,m.attr("data-name",t.name).appendTo(a).attr("title",t.title).addClass("").css("order",t.order),m},createMenu:function(){var t=this.options,a=t.menuFloating?"flipbook-menu-floating":"flipbook-menu-fixed",r=t.menu2Floating?"flipbook-menu-floating":"flipbook-menu-fixed",l=this;this.menuBottom=e(o.createElement("div")).addClass("flipbook-menuBottom").addClass(a).appendTo(this.wrapper).css({background:t.menuBackground,"box-shadow":t.menuShadow,margin:t.menuMargin+"px",padding:t.menuPadding+"px"}),t.menuTransparent||t.menuBackground||this.menuBottom.addClass("skin-color-bg"),t.hideMenu&&this.menuBottom.hide(),this.menuTop=e(o.createElement("div")).addClass("flipbook-menuTop").addClass(r).appendTo(this.wrapper).css({background:t.menu2Background,"box-shadow":t.menu2Shadow,margin:t.menu2Margin+"px",padding:t.menu2Padding+"px"}),t.menu2Transparent||t.menu2Background||this.menuTop.addClass("skin-color-bg"),"swipe"==t.viewMode&&(t.btnSound.enabled=!1),this.menuBL=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuBottom),this.menuBC=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuBottom),this.menuBR=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuBottom),this.menuTL=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuTop),this.menuTC=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuTop),this.menuTR=e(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuTop),t.isMobile&&(void 0!==t.btnTocIfMobile&&(t.btnToc.hideOnMobile=!t.btnTocIfMobile),void 0!==t.btnThumbsIfMobile&&(t.btnThumbs.hideOnMobile=!t.btnThumbsIfMobile),void 0!==t.btnShareIfMobile&&(t.btnShare.hideOnMobile=!t.btnShareIfMobile),void 0!==t.btnDownloadPagesIfMobile&&(t.btnDownloadPages.hideOnMobile=!t.btnDownloadPagesIfMobile),void 0!==t.btnDownloadPdfIfMobile&&(t.btnDownloadPdf.hideOnMobile=!t.btnDownloadPdfIfMobile),void 0!==t.btnSoundIfMobile&&(t.btnSound.hideOnMobile=!t.btnSoundIfMobile),void 0!==t.btnExpandIfMobile&&(t.btnExpand.hideOnMobile=!t.btnExpandIfMobile),void 0!==t.btnPrintIfMobile&&(t.btnPrint.hideOnMobile=!t.btnPrintIfMobile)),t.sideNavigationButtons&&(this.btnNext=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",function(e){l.btnNext.disabled||(l.btnNext.disabled=!0,setTimeout(function(){l.btnNext.disabled=!1},300),e.stopPropagation(),e.preventDefault(),l.nextPage())}),this.arrowR=this.createIcon(t.btnNext).appendTo(this.btnNext.first()).addClass("flipbook-right-arrow").css({width:t.sideBtnSize+"px",height:t.sideBtnSize+"px","font-size":t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(-t.sideBtnSize/2)+"px","margin-right":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowR.removeClass("skin-color"),t.sideBtnBackground&&this.arrowR.removeClass("skin-color-bg"),this.btnPrev=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(l.bookLayer).bind("tap click",function(e){l.btnPrev.disabled||(l.btnPrev.disabled=!0,setTimeout(function(){l.btnPrev.disabled=!1},300),e.stopPropagation(),e.preventDefault(),l.prevPage())}),this.arrowL=this.createIcon(t.btnPrev).appendTo(this.btnPrev.first()).addClass("flipbook-left-arrow").css({width:t.sideBtnSize+"px",height:t.sideBtnSize+"px","font-size":t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(-t.sideBtnSize/2)+"px","margin-left":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowL.removeClass("skin-color"),t.sideBtnBackground&&this.arrowL.removeClass("skin-color-bg"),t.btnFirst.enabled&&(this.btnFirst=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",function(e){l.btnFirst.disabled||(l.btnFirst.disabled=!0,setTimeout(function(){l.btnFirst.disabled=!1},300),e.stopPropagation(),e.preventDefault(),l.firstPage())}),this.arrowFirst=this.createIcon(t.btnFirst).appendTo(this.btnFirst.first()).addClass("flipbook-first-arrow").css({width:t.sideBtnSize+"px",height:.66*t.sideBtnSize+"px","font-size":.66*t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(t.sideBtnSize/2+t.sideBtnMargin+2*t.sideBtnPaddingV)+"px","margin-left":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowFirst.removeClass("skin-color"),t.sideBtnBackground&&this.arrowFirst.removeClass("skin-color-bg")),t.btnLast.enabled&&(this.btnLast=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(l.bookLayer).bind("tap click",function(e){l.btnLast.disabled||(l.btnLast.disabled=!0,setTimeout(function(){l.btnLast.disabled=!1},300),e.stopPropagation(),e.preventDefault(),l.lastPage())}),this.arrowLast=this.createIcon(t.btnLast).appendTo(this.btnLast.first()).addClass("flipbook-last-arrow").css({width:t.sideBtnSize+"px",height:.66*t.sideBtnSize+"px","font-size":.66*t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(t.sideBtnSize/2+t.sideBtnMargin+2*t.sideBtnPaddingV)+"px","margin-right":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowLast.removeClass("skin-color"),t.sideBtnBackground&&this.arrowLast.removeClass("skin-color-bg")),0<=t.btnOrder.indexOf("btnFirst")&&t.btnOrder.splice(t.btnOrder.indexOf("btnFirst"),1),0<=t.btnOrder.indexOf("btnPrev")&&t.btnOrder.splice(t.btnOrder.indexOf("btnPrev"),1),0<=t.btnOrder.indexOf("btnNext")&&t.btnOrder.splice(t.btnOrder.indexOf("btnNext"),1),0<=t.btnOrder.indexOf("btnLast")&&t.btnOrder.splice(t.btnOrder.indexOf("btnLast"),1)),t.pdfMode&&!t.btnDownloadPdf.url&&(t.btnDownloadPdf.url=t.pdfUrl),t.textLayer||(t.btnSelect.enabled=!1);for(var d=0;d<t.btnOrder.length;d++){var h=t.btnOrder[d],p=t[h];t.isMobile&&p.hideOnMobile&&(p.enabled=!1),p.enabled&&(p.name=h,"currentPage"==p.name?this.createCurrentPage():this[h]=this.createButton(p).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),l.onButtonClick(this,e)}))}if(t.buttons)for(d=0;d<t.buttons.length;d++)p=t.buttons[d],l.createButton(p).index(1)},onButtonClick:function(a,r){var l=e(a).attr("data-name"),d=this.options;switch(l){case"btnFirst":this.firstPage();break;case"btnPrev":this.prevPage();break;case"btnNext":this.nextPage();break;case"btnLast":this.lastPage();break;case"btnZoomIn":this.zoomIn();break;case"btnZoomOut":this.zoomOut();break;case"btnAutoplay":this.autoplay||this.nextPage(),this.toggleAutoplay();break;case"btnSearch":this.toggleSearch();break;case"btnBookmark":this.toggleBookmark();break;case"btnRotateLeft":this.Book.rotateLeft&&this.Book.rotateLeft();break;case"btnRotateRight":this.Book.rotateRight&&this.Book.rotateRight();break;case"btnToc":this.toggleToc();break;case"btnThumbs":this.toggleThumbs();break;case"btnShare":this.toggleShareMenu();break;case"btnDownloadPages":if(d.downloadMenu)this.toggleDownloadMenu();else{var h=o.createElement("a");h.href=d.btnDownloadPages.url,h.download=d.btnDownloadPages.name,h.dispatchEvent(new MouseEvent("click"))}break;case"btnPrint":d.printMenu?this.togglePrintMenu():this.togglePrintWindow();break;case"btnDownloadPdf":if(d.btnDownloadPdf.forceDownload){var p=d.btnDownloadPdf.url,c=o.createElement("a");c.href=p;var u=c.href.split("/").pop().split("#")[0].split("?")[0];c.download=u,o.body.appendChild(c),c.click(),o.body.removeChild(c)}else{var g=(d.btnDownloadPdf.openInNewWindow||d.btnDownloadPdf.openInNewWindow,"_blank");t.open(d.btnDownloadPdf.url,g)}this.gaCode&&ga("send",{hitType:"event",eventCategory:"Flipbook : "+d.name,eventAction:"download PDF",eventLabel:d.btnDownloadPdf.url,nonInteraction:!0});break;case"btnSound":this.toggleSound();break;case"btnSelect":this.toggleTool();break;case"btnExpand":this.toggleExpand();break;case"btnClose":this.lightbox.closeLightbox()}},handleFsChange:function(t){if(this.Book&&this.Book.enabled){var a=e(this.fullscreenElement);(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement)===this.fullscreenElement||this.isFullscreen?(this.btnExpand.$icon.hide(),this.btnExpand.$iconAlt.show(),a.addClass("flipbook-browser-fullscreen"),this.fullscreenActive=!0,this.options.onfullscreenenter&&this.options.onfullscreenenter.call(this)):(this.btnExpand.$icon.show(),this.btnExpand.$iconAlt.hide(),a.removeClass("flipbook-browser-fullscreen"),this.fullscreenActive=!1,this.options.onfullscreenexit&&this.options.onfullscreenexit.call(this)),this.triggerResizeOnce()}},createLogo:function(){var o=this.options;if(o.logoImg&&(!o.isMobile||!o.logoHideOnMobile)){var a=e("<img>").attr("src",o.logoImg).attr("style",o.logoCSS).appendTo(this.wrapper);"right"==o.logoAlignH&&a.css("right","0"),"bottom"==o.logoAlignV&&a.css("bottom","0"),o.logoUrl&&a.bind("touchend click",function(){t.open(o.logoUrl,"_blank")})}},setLoadingProgress:function(t){this.disposed||(this.$fillPreloader?this.setFillPreloaderProgress(t):0<t&&t<1?e(this.preloader).stop(!0,!0).show():e(this.preloader).stop(!0,!0).hide())},setFillPreloaderProgress:function(e){if(this.$fillPreloader){if(0<e&&e<1){if(this.fillPreloaderProgress=this.fillPreloaderProgress||0,!(e<this.fillPreloaderProgress)){this.fillPreloaderProgress=e;var t=this.$fillPreloaderImg[0];t.style.clip="rect(0px,"+t.width*e+"px,"+t.height+"px,0px)",this.$fillPreloader.show()}}else this.$fillPreloader.hide()}},createNavigation:function(){var t=this;this.navLeft=e("<div />"),this.navLeft.css("background","#f00").css("left","0").css("top","200px").attr("aria-hidden","true").addClass("skin-color fa fa-chevron-left fa-5x").css("margin-top",this.navLeft.height()+"px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.prevPage()}),this.navRight=e("<div />").appendTo(this.bookLayer).css("position","absolute").css("width","200px").css("height","200px").css("margin-top","-100px").css("background","#f00").css("right","0").css("top","200px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.nextPage()})},playFlipSound:function(){var e=this;this.options.sound&&this.Book.enabled&&void 0!==this.flipsound.play&&(this.flipsound.currentTime=0,setTimeout(function(){try{e.flipsound.play()}catch(t){}},100))},onMouseWheel:function(e){if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/12,wheelDeltaY=e.wheelDeltaY/12;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/12;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=-(3*e.detail)}0<wheelDeltaX?this.zoomIn(e):this.zoomOut(e)},zoomTo:function(e,t,o){var a,r;this.zoom=e,void 0===o?(a=this.model.wrapperW/2,r=this.model.wrapperH/2):(r=o.touches&&o.touches[0]?(a=o.touches[0].pageX,o.touches[0].pageY):o.changedTouches&&o.changedTouches[0]?(a=o.changedTouches[0].pageX,o.changedTouches[0].pageY):(a=o.pageX,o.pageY),a-=this.wrapper.offset().left,r-=this.wrapper.offset().top),this.zoom<this.options.zoomMin&&(this.zoom=this.options.zoomMin),this.zoom>this.options.zoomMax&&(this.zoom=this.options.zoomMax),this.options.zoomMax2&&this.zoom>this.options.zoomMax2&&(this.zoom=this.options.zoomMax2),this.model.zoom=this.zoom,this.Book.zoomTo(this.zoom,t,a,r),this.onZoom(this.zoom)},zoomOut:function(e){var t=this.zoom/this.options.zoomStep;if(t=t<this.options.zoomMin?this.options.zoomMin:t,this.zoom!=t){this.zoom=t;var o=this.options.zoomTime;this.zoomTo(this.zoom,o,e)}},zoomIn:function(e){var t=this.zoom*this.options.zoomStep;if(this.bookLayer.height()*t>this.options.zoomSize&&(t=this.options.zoomSize/this.bookLayer.height()),this.zoom!=t){this.zoom=t;var o=this.options.zoomTime;this.zoomTo(this.zoom,o,e)}},nextPage:function(){this.Book&&this.Book.nextPage()},prevPage:function(){this.Book&&this.Book.prevPage()},firstPage:function(){this.goToPage(1)},lastPage:function(){this.goToPage(this.options.pages.length)},goToPage:function(e,t){this.Book&&this.Book.goToPage(e,t)},onZoom:function(e){this.zoom=e,this.enableButton(this.btnZoomIn,e<this.options.zoomMax),this.enableButton(this.btnZoomOut,e>this.options.zoomMin),this.enableSwipe(e<=1),this.model.zoom=e},enableSwipe:function(e){this.swipeEnabled=e},createCurrentPage:function(){var t,a=this,r=this.options,l="flipbook-currentPageHolder ";t="top"==r.currentPage.vAlign?"left"==r.currentPage.hAlign?this.menuTL:"right"==r.currentPage.hAlign?this.menuTR:this.menuTC:"left"==r.currentPage.hAlign?this.menuBL:"right"==r.currentPage.hAlign?this.menuBR:this.menuBC;var d="top"==r.currentPage.vAlign&&r.menu2Transparent||"top"!=r.currentPage.vAlign&&r.menuTransparent,h=d?r.floatingBtnBackground:"",p=d?r.floatingBtnColor:r.btnColor,c=d?r.floatingBtnTextShadow:"",u=d?r.floatingBtnRadius:r.btnRadius,g=(d?r.floatingBtnMargin:r.btnMargin,e("<div>").appendTo(t));g.css("margin",r.currentPage.marginV+"px "+r.currentPage.marginH+"px"),d||(l+="skin-color "),g.addClass(l).css({color:p,background:h,"text-shadow":c,"border-radius":u+"px"}),r.currentPage.order&&g.css("order",r.currentPage.order),this.currentPageHolder=g,this.currentPage=e(o.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(g);var f=e("<form>").appendTo(g).submit(function(e){var t=parseInt(a.currentPageInput.val());return t=t>r.pages.length?r.pages.length:t,a.options.rightToLeft&&(t=r.pages.length-t+1),a.goToPage(t),a.currentPageInput.trigger("blur"),!1});this.currentPageInput=e('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").css({margin:r.currentPage.marginV+"px "+r.currentPage.marginH+"px",color:p}).appendTo(f).val("").focus(function(){a.currentPageInput.val(""),a.currentPage.addClass("flipbook-color-transparent")}).blur(function(){a.currentPageInput.val(""),a.currentPage.removeClass("flipbook-color-transparent")}),d||this.currentPageInput.addClass("skin-color")},createMenuHeader:function(t,o,a){var r=this,l=e("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(t),d=(o=e("<span>").text(o).addClass("flipbook-menu-title skin-color").appendTo(l),e("<span>").appendTo(l).addClass("flipbook-btn-close").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),r.closeMenus()}));this.createIcon(this.options.btnClose,null,!0).appendTo(d)},createToc:function(){var t=this,o=this.options.tableOfContent;if(o||!this.pdfService||this.pdfService.outlineLoaded){if(this.tocHolder=e("<div>").addClass("flipbook-tocHolder flipbook-side-menu skin-color-bg").appendTo(this.wrapper).hide(),this.createMenuHeader(this.tocHolder,this.strings.tableOfContent,this.toggleToc),this.toc=e("<div>").addClass("flipbook-toc").appendTo(this.tocHolder),this.tocScroller=e("<div>").addClass("flipbook-toc-scroller").appendTo(this.toc),this.tocScroll=new FLIPBOOK.IScroll(t.toc[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),o&&0<o.length){this.options.pages;for(var a=0;a<o.length;a++)this.createTocItem(o[a])}else{var r=this.options.pages;for(a=0;a<r.length;a++){var l=r[a].title;if(""!=l&&void 0!==l){var d={title:l,page:String(a+1)};this.createTocItem(d)}}}this.initColors(),this.tocScroll.refresh(),this.tocCreated=!0,this.toggleToc()}else t.pdfService.loadOutline(function(e){t.options.tableOfContent=e,t.createToc()})},createTocItem:function(t,a,r){var l=this,d=(a=a||this.tocScroller,e(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").appendTo(a).bind("touchend click",function(e){if(e.stopPropagation(),e.preventDefault(),!l.tocScroll.moved){if(l.options.tableOfContentCloseOnClick&&l.toggleToc(!1),!t.page&&t.dest)l.pdfService.pdfDocument.getPageIndex(t.dest[0]).then(function(e){var t=e+1;t=l.options.rightToLeft?l.options.pages.length-t+1:t,setTimeout(function(){l.goToPage(t)},200)});else{var o=t.page;o=l.options.rightToLeft?l.options.pages.length-o+1:o,setTimeout(function(){l.goToPage(o)},200)}}}));r||(r=0),d.level=r,d.css("padding","8px 0"),d.css("margin-left","10px"),r?(d.css("margin-top","8px"),d.css("padding-bottom","0")):(d.css("margin-right","15px"),d.css("padding-left","10px"));var h=e(o.createElement("span")).appendTo(d).css("width","20px").css("display","inline-block").css("cursor","auto").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault();for(var t=0;t<d.items.length;t++)d.items[t].toggle();p.toggle(),c.toggle(),l.tocScroll.refresh()}),p=e("<span>").attr("aria-hidden","true").appendTo(h).addClass("fa fa-chevron-right skin-color").hide(),c=e("<span>").attr("aria-hidden","true").appendTo(h).addClass("fa fa-chevron-down skin-color").hide();if(e(o.createElement("span")).appendTo(d).addClass("title").text(t.title).css("width",String(170-10*d.level)+"px"),e(o.createElement("span")).appendTo(d).attr("class","right").text(t.page),t.items&&t.items.length){d.items=[];for(var u=0;u<t.items.length;u++){var g=this.createTocItem(t.items[u],d,d.level+1);d.items.push(g),g.hide()}p.show()}return d},enablePrev:function(e){this.enableButton(this.btnPrev,e),this.enableButton(this.btnFirst,e),this.Book.enablePrev(e)},enableNext:function(e){this.enableButton(this.btnNext,e),this.enableButton(this.btnLast,e),this.Book.enableNext(e)},enableButton:function(e,t){void 0!==e&&(t?(e.css("opacity","1"),e.css("pointer-events","auto")):(e.css("opacity","0.2"),e.css("pointer-events","none")),e.enabled=t)},resize:function(){if(this.Book&&this.Book.enabled){var e=this.options;!e.menuOverBook&&this.menuShowing&&this.menuBottom?this.bookLayer.css("bottom",this.menuBottom.outerHeight()+"px"):this.bookLayer.css("bottom","0px"),!e.menu2OverBook&&this.menuShowing&&this.menuTop?this.bookLayer.css("top",this.menuTop.outerHeight()+"px"):this.bookLayer.css("top","0px"),this.tocShowing||this.thumbsShowing||this.searchShowing||this.bookmarkShowing?(e.sideMenuOverBook||this.bookLayer.css("left","250px"),this.options.sideMenuOverMenu||this.wrapper.find(".flipbook-side-menu").css("bottom",this.menuBottom.outerHeight()+"px"),this.options.sideMenuOverMenu2||this.wrapper.find(".flipbook-side-menu").css("top",this.menuTop.outerHeight()+"px")):this.bookLayer.css("left","0px");var t=this.model;t.wrapperW=this.bookLayer.width(),t.wrapperH=this.bookLayer.height(),e.zoomMax=e.zoomSize/t.wrapperH,t.zoom=e.zoomMin,this.Book.onResize()}},pdfResize:function(){this.Book.onZoom()},createThumbs:function(){this.thumbs=new FLIPBOOK.Thumbnails(this)},toggleThumbs:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.thumbsShowing=!e),this.thumbsShowing?(this.thumbs.hide(),this.thumbsShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbsShowing=!0),this.resize()},toggleToc:function(e){this.tocCreated?(!this.tocShowing||e?(this.closeMenus(),this.tocShowing=!0,this.tocHolder.show(),this.tocScroll.refresh()):(this.tocHolder.hide(),this.tocShowing=!1),this.resize()):this.createToc()},toggleSearch:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.searchShowing=!e),this.searchShowing?(this.thumbs.hide(),this.searchShowing=!1,this.unmark()):(this.closeMenus(),this.thumbs.show(),this.thumbs.showSearch(),this.searchShowing=!0),this.resize()},toggleBookmark:function(e){this.thumbs||this.createThumbs(),void 0!==e&&(this.bookmarkShowing=!e),this.bookmarkShowing?(this.thumbs.hide(),this.bookmarkShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbs.showBookmarks(),this.bookmarkShowing=!0),this.resize()},closeMenus:function(){this.thumbsShowing&&this.toggleThumbs(),this.tocShowing&&this.toggleToc(),this.searchShowing&&this.toggleSearch(),this.bookmarkShowing&&this.toggleBookmark(),this.printMenuShowing&&this.togglePrintMenu(),this.dlMenuShowing&&this.toggleDownloadMenu(),this.shareMenuShowing&&this.toggleShareMenu()},togglePrintMenu:function(){var t=this;if(this.printMenu)this.printMenuShowing?(this.printMenu.hide(),this.printMenuShowing=!1):(this.closeMenus(),this.printMenu.show(),this.printMenuShowing=!0,this.updateCurrentPage());else{this.printMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var o=e('<idv class="flipbook-sub-menu-center">').appendTo(this.printMenu),a=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(o);this.createMenuHeader(a,this.strings.print,this.togglePrintMenu),e('<a><div class="c-p skin-color flipbook-btn">'+this.strings.printCurrentPage+"</div></a>").appendTo(a).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),e('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.printLeftPage+"</div></a>").appendTo(this.printMenu).appendTo(a).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),e('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.printRightPage+"</div></a>").appendTo(this.printMenu).appendTo(a).bind("touchend click",function(e){t.printPage(t.cPage[1],this)}),e('<a><div class="skin-color flipbook-btn">'+this.strings.printAllPages+"</div></a>").appendTo(a).bind("touchend click",function(e){t.togglePrintWindow()}),this.closeMenus(),this.printMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleDownloadMenu:function(){var t=this;if(this.dlMenu)this.dlMenuShowing?(this.dlMenu.hide(),this.dlMenuShowing=!1):(this.dlMenu.show(),this.closeMenus(),this.dlMenuShowing=!0,this.updateCurrentPage());else{this.dlMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var a=e('<idv class="flipbook-sub-menu-center">').appendTo(this.dlMenu),r=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(a);this.createMenuHeader(r,this.strings.download,this.toggleDownloadMenu),e('<a><div class="c-p skin-color flipbook-btn">'+this.strings.downloadCurrentPage+"</div></a>").appendTo(r).bind("touchend click",function(e){t.downloadPage(t.cPage[0],this)}),e('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.downloadLeftPage+"</div></a>").appendTo(r).bind("touchend click",function(e){t.downloadPage(t.cPage[0],this)}),e('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.downloadRightPage+"</div></a>").appendTo(r).bind("touchend click",function(e){t.downloadPage(t.cPage[1],this)}),e('<a><div class="skin-color flipbook-btn">'+this.strings.downloadAllPages+"</div></a>").appendTo(r).bind("touchend click",function(e){var a=o.createElement("a");a.href=t.options.btnDownloadPages.url;var r=a.href.split("/").pop().split("#")[0].split("?")[0];a.download=r,a.dispatchEvent(new MouseEvent("click"))}),this.closeMenus(),this.dlMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleShareMenu:function(){if(this.shareMenu)this.shareMenuShowing?(this.shareMenu.hide(),this.shareMenuShowing=!1):(this.shareMenu.show(),this.closeMenus(),this.shareMenuShowing=!0);else{this.shareMenu=e('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var t=e('<idv class="flipbook-sub-menu-center">').appendTo(this.shareMenu),o=e('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(t);this.createMenuHeader(o,"Share",this.toggleShareMenu);var a=e('<idv class="flipbook-share">').appendTo(o),r=this.options;this.share=new Share(a[0],{networks:{google_plus:r.google_plus,twitter:r.twitter,facebook:r.facebook,pinterest:r.pinterest,email:r.email}}),this.closeMenus(),this.shareMenuShowing=!0,this.initColors()}},bookmarkPage:function(e){var t=this.getBookmarkedPages();0>t.indexOf(String(e))&&t.push(e),this.setBookmarkedPages(t),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},removeBookmark:function(e){var t=this.getBookmarkedPages();-1<t.indexOf(String(e))&&t.splice(t.indexOf(String(e)),1),this.setBookmarkedPages(t),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},isBookmarked:function(e){return 0<this.getBookmarkedPages().indexOf(String(e))},getBookmarkedPages:function(){var e=localStorage.getItem(this.options.name+"_flipbook_bookmarks");return e?e.split(";"):[]},setBookmarkedPages:function(e){localStorage.setItem(this.options.name+"_flipbook_bookmarks",e.join(";"))},printPage:function(e,o){var a;if(this.options.pages[e]&&this.options.pages[e].print?a=this.options.pages[e].print:this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]?a=this.options.pages[e].canvas[this.options.pageTextureSize].toDataURL():this.options.pages[e]&&this.options.pages[e].src&&(a=this.options.pages[e].src),a){var r="<!DOCTYPE html>";r+="<html>",r+="<head><title>Print canvas</title></head>",r+="<body>",r+='<img src="'+a+'">',r+="</body>",r+="</html>";var l=t.open("","Print","height=1600,width=800");l.document.open(),l.document.write(r),l.document.close(),l.document.addEventListener("load",function(){l.focus(),l.print(),l.document.close(),l.close()},!0)}else{var d=this;this.loadPage(e,this.options.pageTextureSize,function(){d.printPage(e)})}},downloadPage:function(e){if(this.options.pages[e]&&this.options.pages[e].download)url=this.options.pages[e].download;else if(this.options.pages[e]&&this.options.pages[e].src)url=this.options.pages[e].src;else if(this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]){var t=o.createElement("canvas"),a=this.options.pageWidth/this.options.pageHeight;t.width=this.options.pageTextureSize*a,t.height=this.options.pageTextureSize,t.getContext("2d").drawImage(this.options.pages[e].canvas[this.options.pageTextureSize],0,0),url=t.toDataURL("image/jpeg",.5)}if(url){var r=o.createElement("a");r.href=url,r.download="page"+String(e+1),o.body.appendChild(r),r.click(),o.body.removeChild(r)}else{var l=this;this.loadPage(e,this.options.pageTextureSize,function(){l.downloadPage(e)})}},printPdf:function(e){t.open(e,"_blank").onload=function(){this.print()}},togglePrintWindow:function(e){var o;(o=this).options.printPdfUrl?o.printPdf(o.options.printPdfUrl):o.options.pdfUrl?o.printPdf(o.options.pdfUrl):function e(){link="about:blank";var a=t.open(link,"_new");a.document.open();for(var r="",l=0;l<o.options.pages.length;l++)o.options.pages[l].src&&(r+='<img src="'+o.options.pages[l].src.toString()+'"/>\n');var d="<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.print();\n  window.close();\n}\n</script>\n</head>\n<body onLoad='step1()'>\n"+r+"</body>\n</html>\n";a.document.write(d),a.document.close()}()},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(e){this.browserFullscreen=!0,screenfull.enabled?screenfull.toggle(this.fullscreenElement):(this.isFullscreen=!this.isFullscreen,this.handleFsChange())},expand:function(){},toggleAutoplay:function(e){var t=this;this.autoplay=e||!this.autoplay,this.autoplay?(this.btnAutoplay.$icon.hide(),this.btnAutoplay.$iconAlt.show(),this.autoplayTimer=setInterval(function(){if(t.autoplay){var e=t.options.autoplayStartPage||1;t.options.rightToLeft?t.Book.prevEnabled?t.prevPage():t.options.autoplayLoop&&t.goToPage(t.options.pages.length-e+1):t.Book.nextEnabled?t.nextPage():t.options.autoplayLoop&&t.goToPage(e)}},t.options.autoplayInterval)):(this.btnAutoplay.$icon.show(),this.btnAutoplay.$iconAlt.hide(),clearInterval(t.autoplayTimer))},triggerResizeOnce:function(){setTimeout(function(){e(t).trigger("resize")},100),setTimeout(function(){e(t).trigger("resize")},500)},triggerResize:function(){setTimeout(function(){e(t).trigger("resize")},100),setTimeout(function(){e(t).trigger("resize")},500),setTimeout(function(){e(t).trigger("resize")},2e3)},initEasing:function(){t.jQuery.extend(t.jQuery.easing,{def:"easeOutQuad",swing:function(t,o,a,r,l){return e.easing[e.easing.def](t,o,a,r,l)},easeInQuad:function(e,t,o,a,r){return a*(t/=r)*t+o},easeOutQuad:function(e,t,o,a,r){return-a*(t/=r)*(t-2)+o},easeInOutQuad:function(e,t,o,a,r){return(t/=r/2)<1?a/2*t*t+o:-a/2*(--t*(t-2)-1)+o},easeInCubic:function(e,t,o,a,r){return a*(t/=r)*t*t+o},easeOutCubic:function(e,t,o,a,r){return a*((t=t/r-1)*t*t+1)+o},easeInOutCubic:function(e,t,o,a,r){return(t/=r/2)<1?a/2*t*t*t+o:a/2*((t-=2)*t*t+2)+o},easeInQuart:function(e,t,o,a,r){return a*(t/=r)*t*t*t+o},easeOutQuart:function(e,t,o,a,r){return-a*((t=t/r-1)*t*t*t-1)+o},easeInOutQuart:function(e,t,o,a,r){return(t/=r/2)<1?a/2*t*t*t*t+o:-a/2*((t-=2)*t*t*t-2)+o},easeInQuint:function(e,t,o,a,r){return a*(t/=r)*t*t*t*t+o},easeOutQuint:function(e,t,o,a,r){return a*((t=t/r-1)*t*t*t*t+1)+o},easeInOutQuint:function(e,t,o,a,r){return(t/=r/2)<1?a/2*t*t*t*t*t+o:a/2*((t-=2)*t*t*t*t+2)+o},easeInSine:function(e,t,o,a,r){return-a*Math.cos(t/r*(Math.PI/2))+a+o},easeOutSine:function(e,t,o,a,r){return a*Math.sin(t/r*(Math.PI/2))+o},easeInOutSine:function(e,t,o,a,r){return-a/2*(Math.cos(Math.PI*t/r)-1)+o},easeInExpo:function(e,t,o,a,r){return 0==t?o:a*Math.pow(2,10*(t/r-1))+o},easeOutExpo:function(e,t,o,a,r){return t==r?o+a:a*(1-Math.pow(2,-10*t/r))+o},easeInOutExpo:function(e,t,o,a,r){return 0==t?o:t==r?o+a:(t/=r/2)<1?a/2*Math.pow(2,10*(t-1))+o:a/2*(2-Math.pow(2,-10*--t))+o},easeInCirc:function(e,t,o,a,r){return-a*(Math.sqrt(1-(t/=r)*t)-1)+o},easeOutCirc:function(e,t,o,a,r){return a*Math.sqrt(1-(t=t/r-1)*t)+o},easeInOutCirc:function(e,t,o,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+o:a/2*(Math.sqrt(1-(t-=2)*t)+1)+o},easeInElastic:function(e,t,o,a,r){var l=1.70158,d=0,h=a;return 0==t?o:1==(t/=r)?o+a:((d||(d=.3*r),h<Math.abs(a))?(h=a,l=d/4):l=d/(2*Math.PI)*Math.asin(a/h),-h*Math.pow(2,10*(t-=1))*Math.sin((t*r-l)*(2*Math.PI)/d)+o)},easeOutElastic:function(e,t,o,a,r){var l=1.70158,d=0,h=a;return 0==t?o:1==(t/=r)?o+a:((d||(d=.3*r),h<Math.abs(a))?(h=a,l=d/4):l=d/(2*Math.PI)*Math.asin(a/h),h*Math.pow(2,-10*t)*Math.sin((t*r-l)*(2*Math.PI)/d)+a+o)},easeInOutElastic:function(e,t,o,a,r){var l=1.70158,d=0,h=a;return 0==t?o:2==(t/=r/2)?o+a:((d||(d=r*(.3*1.5)),h<Math.abs(a))?(h=a,l=d/4):l=d/(2*Math.PI)*Math.asin(a/h),t<1?-(h*Math.pow(2,10*(t-=1))*Math.sin((t*r-l)*(2*Math.PI)/d)*.5)+o:h*Math.pow(2,-10*(t-=1))*Math.sin((t*r-l)*(2*Math.PI)/d)*.5+a+o)},easeInBack:function(e,t,o,r,l,d){return d==a&&(d=1.70158),r*(t/=l)*t*((d+1)*t-d)+o},easeOutBack:function(e,t,o,r,l,d){return d==a&&(d=1.70158),r*((t=t/l-1)*t*((d+1)*t+d)+1)+o},easeInOutBack:function(e,t,o,r,l,d){return d==a&&(d=1.70158),(t/=l/2)<1?r/2*(t*t*((1+(d*=1.525))*t-d))+o:r/2*((t-=2)*t*((1+(d*=1.525))*t+d)+2)+o},easeInBounce:function(t,o,a,r,l){return r-e.easing.easeOutBounce(t,l-o,0,r,l)+a},easeOutBounce:function(e,t,o,a,r){return(t/=r)<1/2.75?a*(7.5625*t*t)+o:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+o:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+o:a*(7.5625*(t-=2.625/2.75)*t+.984375)+o},easeInOutBounce:function(t,o,a,r,l){return o<l/2?.5*e.easing.easeInBounce(t,2*o,0,r,l)+a:.5*e.easing.easeOutBounce(t,2*o-l,0,r,l)+.5*r+a}})}},FLIPBOOK.Book=function(){},FLIPBOOK.Book.prototype={rightIndex:0,goToPage:function(){}},FLIPBOOK.Thumbnails=function(t){var a=this,r=t.options,l=t.wrapper;if(this.main=t,this.options=r,this.wrapper=l,this.active=null,r.btnThumbs.enabled){e(t).bind("pagechange",function(){a.thumbsWrapper.css("top",a.bookmark.height()+50+"px")}),this.thumbHolder=e(o.createElement("div")).addClass("flipbook-thumbHolder flipbook-side-menu skin-color-bg").appendTo(l).hide(),this.thumbsWrapper=e(o.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"),this.thumbsScroller=e(o.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"),t.createMenuHeader(this.thumbHolder,t.strings.thumbnails,t.toggleThumbs),this.bookmark=e("<div>").addClass("flipbook-font").appendTo(this.thumbHolder).hide(),e('<a><div class="c-p skin-color flipbook-btn">'+r.strings.bookmarkCurrentPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),e('<a><div class="c-l-p skin-color flipbook-btn">'+r.strings.bookmarkLeftPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),e('<a><div class="c-r-p skin-color flipbook-btn">'+r.strings.bookmarkRightPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[1],this),e.preventDefault(),e.stopPropagation()}),this.search=e("<div>").addClass("flipbook-search").appendTo(this.thumbHolder).hide(),this.$searchBar=e('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="'+r.strings.findInDocument+'..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search),this.$findInput=this.$searchBar.find("#findInput").keyup(function(){var e=this.value;if(a.hideAllThumbs(),a.pagesFound=0,a.$findInfo.hide(),t.unmark(),""!=e&&(t.searchingString=e,t.pdfService))for(var o=0;o<t.pdfService.pdfInfo.numPages;o++)a.findInPage(e,o)}),this.$findInfo=this.$searchBar.find(".flipbook-find-info"),this.thumbs=[];var d=r.pages,h=[];if(r.doublePage)for(var p=0;p<d.length;p++)0!=p&&p%2==0||h.push(d[p]);else h=d;r.pdfMode&&this.loadThumbsFromPdf(h);var c=r.thumbSize,u=r.thumbSize*r.pageWidth/r.pageHeight;for(p=0;p<h.length;p++){var g=h[p].thumb,f=e("<div>").addClass("flipbook-thumb").appendTo(a.thumbsScroller).attr("data-thumb-index",p).width(u).height(c),b=e("<span>").appendTo(f).addClass("thumb-btn-close").bind("touchend click",function(o){o.stopPropagation(),o.preventDefault(),t.removeBookmark(e(this).parent().attr("data-thumb-index"))});if(e("<span>").attr("aria-hidden","true").appendTo(b).addClass("fa fa-times skin-color"),this.thumbs.push(f),h[p].thumbCanvas)var m=e(h[p].thumbCanvas);else{if(!g)continue;(m=e("<img/>").attr("src",g))[0].onload=function(){a.thumbScroll.refresh()}}(m.appendTo(f),e("<br/>").appendTo(f),r.doublePage&&0<p)?(f.width(2*u),m.height(c).width(2*u).attr("page-title",2*p+1),e(o.createElement("soan")).text(String(2*p)+"-"+String(2*p+1)).appendTo(f).addClass("skin-color").addClass("flipbook-thumb-num")):(m.height(c).width(u).attr("page-title",p+1),e(o.createElement("span")).text(p+1).appendTo(f).addClass("skin-color").addClass("flipbook-thumb-num")),m.bind("touchend click",function(o){if(o.stopPropagation(),o.preventDefault(),!a.thumbScroll.moved){var l=Number(e(this).attr("page-title"));r.rightToLeft&&(l=r.pages.length-l+1),setTimeout(function(){t.goToPage(l)},200),"search"!=a.active&&r.thumbsCloseOnClick&&t.toggleThumbs(!1)}})}this.thumbScroll=new FLIPBOOK.IScroll(this.thumbsWrapper[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),t.initColors()}},FLIPBOOK.Thumbnails.prototype={loadThumbsFromPdf:function(e){for(var t=this.main.pdfDocument._pdfInfo.numPages,a=0;a<t;a++){var r=o.createElement("canvas");e[a].thumbCanvas=r}this.loadThumbFromPdf(0,e)},loadVisibleThumbs:function(){},loadThumbFromPdf:function(e,t){var o=this;this.main.pdfDocument.getPage(e+1).then(function(e){var a=e.getViewport({scale:1}),r=o.options.thumbSize/a.height;i=e.getViewport({scale:r}),s=(n=t[e.pageIndex].thumbCanvas).getContext("2d"),n.height=i.height,n.width=i.width;var l={canvasContext:s,viewport:i};e.cleanupAfterRender=!0,e.render(l).then(function(){e.cleanup(),e.pageIndex+1<o.main.pdfDocument._pdfInfo.numPages&&o.loadThumbFromPdf(e.pageIndex+1,t)}),o.thumbScroll.refresh()})},showAllThumbs:function(){e(".flipbook-thumb").show(),this.thumbScroll.refresh()},hideAllThumbs:function(){e(".flipbook-thumb").hide(),this.thumbScroll.refresh()},showThumb:function(e){this.thumbs[e]&&this.thumbs[e].show(),this.thumbScroll.refresh()},hideThumb:function(e){this.thumbs[e].hide(),this.thumbScroll.refresh()},showBookmarks:function(){e(".thumb-btn-close").show(),this.showBookmarkedThumbs(),this.bookmark.show(),this.setTitle(this.options.strings.bookmarks),this.main.updateCurrentPage(),this.active="bookmarks"},showSearch:function(){this.thumbsWrapper.css("top","120px"),this.hideAllThumbs(),this.search.show(),this.$findInfo.hide(),e(".thumb-btn-close").hide(),this.setTitle(this.options.strings.search),this.$findInput.val("").focus(),this.active="search"},showBookmarkedThumbs:function(){var e=this.main.getBookmarkedPages();this.hideAllThumbs();for(var t=0;t<e.length;t++){var o=e[t];o&&this.showThumb(o)}this.thumbsWrapper.css("top",50+this.bookmark.height()+"px")},show:function(){this.setTitle(this.options.strings.thumbnails),this.bookmark.hide(),this.search.hide(),this.thumbHolder.show(),this.main.thumbsVertical(),this.thumbsWrapper.css("top","50px"),this.showAllThumbs(),e(".thumb-btn-close").hide(),this.loadVisibleThumbs(),this.main.resize(),this.active="thumbs"},hide:function(){this.thumbHolder.hide(),this.main.resize(),this.active=null},setTitle:function(e){this.thumbHolder.find(".flipbook-menu-title").text(e)},findInPage:function(e,t){var o=this;this.main.pdfService.findInPage(e,t,function(a){0<a&&(o.showThumb(t),o.pagesFound++,o.$findInfo.show().text(o.pagesFound+" "+o.options.strings.pagesFoundContaining+' "'+e+'"'),o.main.mark(e))})}},FLIPBOOK.Lightbox=function(t,a,r){var l=this;this.context=t,this.options=r,this.lightboxOpened=!1,t.$elem.bind("tap click",function(e){a.disposed||(l.openLightbox(),e.stopPropagation())}),e(t.elem).find("img"),l.overlay=e(o.createElement("div")).attr("style",r.lightboxCSS).addClass("flipbook-overlay").css("display","none").css("top",l.options.lightboxMarginV).css("bottom",l.options.lightboxMarginV).css("left",l.options.lightboxMarginH).css("right",l.options.lightboxMarginH).appendTo("body"),l.options.lightboxCloseOnClick&&e("body").bind("tap click",function(t){var o=e(t.target);o.parents().hasClass("flipbook-overlay")&&!o.hasClass("flipbook-bookLayer")||l.closeLightbox()}),r.lightboxBackground&&l.overlay.css("background",r.lightboxBackground),e(o).keyup(function(e){27==e.keyCode&&l.closeLightbox()}),l.wrapper=e(o.createElement("div")).css("height","auto").appendTo(l.overlay),l.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),a.appendTo(l.wrapper),e("<div/>").appendTo(l.wrapper).addClass("flipbook-lightbox-toolbar")},FLIPBOOK.Lightbox.prototype={openLightbox:function(){this.lightboxOpened||(this.lightboxOpened=!0,this.overlay.css("display","none"),this.overlay.fadeIn("slow",function(){}),e("body").addClass("flipbook-overflow-hidden"),e("html").addClass("flipbook-overflow-hidden"))},closeLightbox:function(){1==this.lightboxOpened&&(this.lightboxOpened=!1,this.overlay.fadeOut("fast"),e("body").removeClass("flipbook-overflow-hidden"),e("html").removeClass("flipbook-overflow-hidden"),e(this.context.fullscreenElement).removeClass("flipbook-browser-fullscreen"),this.context.lightboxEnd())},resize:function(){var o=e(t);o.width(),o.height()}},FLIPBOOK.getFlipbookSrc=function(){for(var e=o.getElementsByTagName("script"),t=0;t<e.length;t++){var a=String(e[t].src);if(a.match("flipbook\\.js")||a.match("flipbook\\.min\\.js"))return a}return""},FLIPBOOK.flipbookSrc=FLIPBOOK.getFlipbookSrc(),FLIPBOOK.iscrollSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/iscroll."),FLIPBOOK.threejsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/three."),FLIPBOOK.flipbookWebGlSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.webgl."),FLIPBOOK.flipbookBook3Src=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.book3."),FLIPBOOK.flipBookSwipeSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.swipe."),FLIPBOOK.pdfjsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf."),FLIPBOOK.pdfServiceSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.pdfservice."),FLIPBOOK.pdfjsworkerSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf.worker."),FLIPBOOK.markSrc="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js",FLIPBOOK.scriptsLoaded={},FLIPBOOK.scriptsAdded={}}(jQuery,window,document),FLIPBOOK.onPageLinkClick=function(e){var t=e.dataset.bookid,o=e.dataset.page;o&&FLIPBOOK.books[t].goToPage(Number(o));var a=e.dataset.url;a&&window.open(a,"_blank")},function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},t="undefined"!=typeof module&&module.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"],],a=0,r=o.length,l={};a<r;a++)if((t=o[a])&&t[1]in e){for(a=0;a<t.length;a++)l[o[0][a]]=t[a];return l}return!1}(),r={change:a.fullscreenchange,error:a.fullscreenerror},l={request:function(t){return new Promise((function(r){var l=a.requestFullscreen,d=(function(){this.off("change",d),r()}).bind(this);t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[l]():t[l](o?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",d)}).bind(this))},exit:function(){return new Promise((function(t){var o=(function(){this.off("change",o),t()}).bind(this);e[a.exitFullscreen](),this.on("change",o)}).bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(t,o){var a=r[t];a&&e.addEventListener(a,o,!1)},off:function(t,o){var a=r[t];a&&e.removeEventListener(a,o,!1)},raw:a};a?(Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(e[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[a.fullscreenEnabled])}}}),t?module.exports=l:window.screenfull=l):t?module.exports=!1:window.screenfull=!1}(),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t,C){function L(t){if(!(!0===ex.data(y+"_intouch")||0<e(t.target).closest(C.excludedElements,ex).length)){var d,h=t.originalEvent?t.originalEvent:t;if(!h.pointerType||"mouse"!=h.pointerType||0!=C.fallbackToMouseEvents){var p,c=h.touches,u=c?c[0]:h;return eO=P,c?e_=c.length:!1!==C.preventDefaultEvents&&t.preventDefault(),eB=em=eb=null,e$=1,eP=ew=ev=ek=ef=0,(d={})[o]=en(o),d[a]=en(a),d[r]=en(r),d[l]=en(l),eS=d,X(),et(0,u),!c||e_===C.fingers||C.fingers===w||W()?(ey=el(),2==e_&&(et(1,c[1]),ev=ew=ea(eT[0].start,eT[1].start)),(C.swipeStatus||C.pinchStatus)&&(p=D(h,eO))):p=!1,!1===p?(D(h,eO=x),p):(C.hold&&(e0=setTimeout(e.proxy(function(){ex.trigger("hold",[h.target]),C.hold&&(p=C.hold.call(ex,h,h.target))},this),C.longTapThreshold)),ee(!0),null)}}}function M(t){var u,g,f,b,m,$,P,O,_=t.originalEvent?t.originalEvent:t;if(eO!==S&&eO!==x&&!J()){var T,y=_.touches,L=eo(y?y[0]:_);if(eC=el(),y&&(e_=y.length),C.hold&&clearTimeout(e0),eO=B,2==e_&&(0==ev?(et(1,y[1]),ev=ew=ea(eT[0].start,eT[1].start)):(eo(y[1]),ew=ea(eT[0].end,eT[1].end),eT[0].end,eT[1].end,eB=e$<1?h:d),e$=(ew/ev*1).toFixed(2),eP=Math.abs(ev-ew)),e_===C.fingers||C.fingers===w||!y||W()){if(eb=er(L.start,L.end),function(e,t){if(!1!==C.preventDefaultEvents){if(C.allowPageScroll===p)e.preventDefault();else{var d=C.allowPageScroll===c;switch(t){case o:(C.swipeLeft&&d||!d&&C.allowPageScroll!=k)&&e.preventDefault();break;case a:(C.swipeRight&&d||!d&&C.allowPageScroll!=k)&&e.preventDefault();break;case r:(C.swipeUp&&d||!d&&C.allowPageScroll!=v)&&e.preventDefault();break;case l:(C.swipeDown&&d||!d&&C.allowPageScroll!=v)&&e.preventDefault()}}}}(t,em=er(L.last,L.end)),P=L.start,ef=Math.round(Math.sqrt(Math.pow((O=L.end).x-P.x,2)+Math.pow(O.y-P.y,2))),ek=es(),$=ef,(m=eb)!=p&&($=Math.max($,ei(m)),eS[m].distance=$),T=D(_,eO),!C.triggerOnTouchEnd||C.triggerOnTouchLeave){var M=!0;if(C.triggerOnTouchLeave){var I={left:(b=(f=e(f=this)).offset()).left,right:b.left+f.outerWidth(),top:b.top,bottom:b.top+f.outerHeight()};u=L.end,g=I,M=u.x>g.left&&u.x<g.right&&u.y>g.top&&u.y<g.bottom}!C.triggerOnTouchEnd&&M?eO=A(B):C.triggerOnTouchLeave&&!M&&(eO=A(S)),eO!=x&&eO!=S||D(_,eO)}}else D(_,eO=x);!1===T&&D(_,eO=x)}}function I(e){var t,o=e.originalEvent?e.originalEvent:e,a=o.touches;if(a){if(a.length&&!J())return t=o,eL=el(),eM=t.touches.length+1,!0;if(a.length&&J())return!0}return J()&&(e_=eM),eC=el(),ek=es(),R()||!H()?D(o,eO=x):C.triggerOnTouchEnd||!1===C.triggerOnTouchEnd&&eO===B?(!1!==C.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),D(o,eO=S)):!C.triggerOnTouchEnd&&Q()?K(o,eO=S,f):eO===B&&D(o,eO=x),ee(!1),null}function F(){ew=ev=ey=eC=e_=0,e$=1,X(),ee(!1)}function z(e){var t=e.originalEvent?e.originalEvent:e;C.triggerOnTouchLeave&&D(t,eO=A(S))}function E(){ex.unbind(eh,L),ex.unbind(eg,F),ex.unbind(ep,M),ex.unbind(ec,I),eu&&ex.unbind(eu,z),ee(!1)}function A(e){var t=e,o=N(),a=H(),r=R();return!o||r?t=x:a&&e==B&&(!C.triggerOnTouchEnd||C.triggerOnTouchLeave)?t=S:!a&&e==S&&C.triggerOnTouchLeave&&(t=x),t}function D(e,t){var o,a=e.touches;return(!(!V()||!U())||U())&&(o=K(e,t,u)),(!(!j()||!W())||W())&&!1!==o&&(o=K(e,t,g)),G()&&Y()&&!1!==o?o=K(e,t,b):ek>C.longTapThreshold&&ef<$&&C.longTap&&!1!==o?o=K(e,t,m):(1===e_||!O)&&(isNaN(ef)||ef<C.threshold)&&Q()&&!1!==o&&(o=K(e,t,f)),t===x&&F(),t===S&&(a&&a.length||F()),o}function K(t,p,c){var k;if(c==u){if(ex.trigger("swipeStatus",[p,eb||null,ef||0,ek||0,e_,eT,em]),C.swipeStatus&&!1===(k=C.swipeStatus.call(ex,t,p,eb||null,ef||0,ek||0,e_,eT,em)))return!1;if(p==S&&V()){if(clearTimeout(eF),clearTimeout(e0),ex.trigger("swipe",[eb,ef,ek,e_,eT,em]),C.swipe&&!1===(k=C.swipe.call(ex,t,eb,ef,ek,e_,eT,em)))return!1;switch(eb){case o:ex.trigger("swipeLeft",[eb,ef,ek,e_,eT,em]),C.swipeLeft&&(k=C.swipeLeft.call(ex,t,eb,ef,ek,e_,eT,em));break;case a:ex.trigger("swipeRight",[eb,ef,ek,e_,eT,em]),C.swipeRight&&(k=C.swipeRight.call(ex,t,eb,ef,ek,e_,eT,em));break;case r:ex.trigger("swipeUp",[eb,ef,ek,e_,eT,em]),C.swipeUp&&(k=C.swipeUp.call(ex,t,eb,ef,ek,e_,eT,em));break;case l:ex.trigger("swipeDown",[eb,ef,ek,e_,eT,em]),C.swipeDown&&(k=C.swipeDown.call(ex,t,eb,ef,ek,e_,eT,em))}}}if(c==g){if(ex.trigger("pinchStatus",[p,eB||null,eP||0,ek||0,e_,e$,eT]),C.pinchStatus&&!1===(k=C.pinchStatus.call(ex,t,p,eB||null,eP||0,ek||0,e_,e$,eT)))return!1;if(p==S&&j())switch(eB){case d:ex.trigger("pinchIn",[eB||null,eP||0,ek||0,e_,e$,eT]),C.pinchIn&&(k=C.pinchIn.call(ex,t,eB||null,eP||0,ek||0,e_,e$,eT));break;case h:ex.trigger("pinchOut",[eB||null,eP||0,ek||0,e_,e$,eT]),C.pinchOut&&(k=C.pinchOut.call(ex,t,eB||null,eP||0,ek||0,e_,e$,eT))}}return c==f?p!==x&&p!==S||(clearTimeout(eF),clearTimeout(e0),Y()&&!G()?(eI=el(),eF=setTimeout(e.proxy(function(){eI=null,ex.trigger("tap",[t.target]),C.tap&&(k=C.tap.call(ex,t,t.target))},this),C.doubleTapThreshold)):(eI=null,ex.trigger("tap",[t.target]),C.tap&&(k=C.tap.call(ex,t,t.target)))):c==b?p!==x&&p!==S||(clearTimeout(eF),clearTimeout(e0),eI=null,ex.trigger("doubletap",[t.target]),C.doubleTap&&(k=C.doubleTap.call(ex,t,t.target))):c==m&&(p!==x&&p!==S||(clearTimeout(eF),eI=null,ex.trigger("longtap",[t.target]),C.longTap&&(k=C.longTap.call(ex,t,t.target)))),k}function H(){var e=!0;return null!==C.threshold&&(e=ef>=C.threshold),e}function R(){var e=!1;return null!==C.cancelThreshold&&null!==eb&&(e=ei(eb)-ef>=C.cancelThreshold),e}function N(){return!(C.maxTimeThreshold&&ek>=C.maxTimeThreshold)}function j(){var e=q(),t=Z(),o=null===C.pinchThreshold||eP>=C.pinchThreshold;return e&&t&&o}function W(){return!!(C.pinchStatus||C.pinchIn||C.pinchOut)}function V(){var e=N(),t=H(),o=q(),a=Z();return!R()&&a&&o&&t&&e}function U(){return!!(C.swipe||C.swipeStatus||C.swipeLeft||C.swipeRight||C.swipeUp||C.swipeDown)}function q(){return e_===C.fingers||C.fingers===w||!O}function Z(){return 0!==eT[0].end.x}function Q(){return!!C.tap}function Y(){return!!C.doubleTap}function G(){if(null==eI)return!1;var e=el();return Y()&&e-eI<=C.doubleTapThreshold}function X(){eM=eL=0}function J(){var e=!1;return eL&&el()-eL<=C.fingerReleaseThreshold&&(e=!0),e}function ee(e){ex&&(!0===e?(ex.bind(ep,M),ex.bind(ec,I),eu&&ex.bind(eu,z)):(ex.unbind(ep,M,!1),ex.unbind(ec,I,!1),eu&&ex.unbind(eu,z,!1)),ex.data(y+"_intouch",!0===e))}function et(e,t){var o={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return o.start.x=o.last.x=o.end.x=t.pageX||t.clientX,o.start.y=o.last.y=o.end.y=t.pageY||t.clientY,eT[e]=o}function eo(e){var t=void 0!==e.identifier?e.identifier:0,o=eT[t]||null;return null===o&&(o=et(t,e)),o.last.x=o.end.x,o.last.y=o.end.y,o.end.x=e.pageX||e.clientX,o.end.y=e.pageY||e.clientY,o}function ei(e){if(eS[e])return eS[e].distance}function en(e){return{direction:e,distance:0}}function es(){return eC-ey}function ea(e,t){var o=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.round(Math.sqrt(o*o+a*a))}function er(e,t){if(h=t,(d=e).x==h.x&&d.y==h.y)return p;var d,h,c,u,g,f,b,m,k=(u=t,g=(c=e).x-u.x,(m=Math.round(180*(b=Math.atan2(f=u.y-c.y,g))/Math.PI))<0&&(m=360-Math.abs(m)),m);return k<=45&&0<=k?o:k<=360&&315<=k?o:135<=k&&k<=225?a:45<k&&k<135?l:r}function el(){return new Date().getTime()}C=e.extend({},C);var ed=O||T||!C.fallbackToMouseEvents,eh=ed?T?_?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ep=ed?T?_?"MSPointerMove":"pointermove":"touchmove":"mousemove",ec=ed?T?_?"MSPointerUp":"pointerup":"touchend":"mouseup",eu=ed?T?"mouseleave":null:"mouseleave",eg=T?_?"MSPointerCancel":"pointercancel":"touchcancel",ef=0,eb=null,em=null,ek=0,ev=0,ew=0,e$=1,eP=0,eB=0,eS=null,ex=e(t),eO="start",e_=0,eT={},ey=0,eC=0,eL=0,eM=0,eI=0,eF=null,e0=null;try{ex.bind(eh,L),ex.bind(eg,F)}catch(ez){e.error("events not supported "+eh+","+eg+" on jQuery.swipe")}this.enable=function(){return this.disable(),ex.bind(eh,L),ex.bind(eg,F),ex},this.disable=function(){return E(),ex},this.destroy=function(){E(),ex.data(y,null),ex=null},this.option=function(t,o){if("object"==typeof t)C=e.extend(C,t);else if(void 0!==C[t]){if(void 0===o)return C[t];C[t]=o}else{if(!t)return C;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var o="left",a="right",r="up",l="down",d="in",h="out",p="none",c="auto",u="swipe",g="pinch",f="tap",b="doubletap",m="longtap",k="horizontal",v="vertical",w="all",$=10,P="start",B="move",S="end",x="cancel",O="ontouchstart"in window,_=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!O,T=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!O,y="TouchSwipe";e.fn.swipe=function(o){var a=e(this),r=a.data(y);if(r&&"string"==typeof o){if(r[o])return r[o].apply(r,Array.prototype.slice.call(arguments,1));e.error("Method "+o+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof o)r.option.apply(r,arguments);else if(!(r||"object"!=typeof o&&o))return(function(o){return o&&void 0===o.allowPageScroll&&(void 0!==o.swipe||void 0!==o.swipeStatus)&&(o.allowPageScroll=p),void 0!==o.click&&void 0===o.tap&&(o.tap=o.click),o||(o={}),o=e.extend({},e.fn.swipe.defaults,o),this.each(function(){var a=e(this),r=a.data(y);r||(r=new t(this,o),a.data(y,r))})}).apply(this,arguments);return a},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:P,PHASE_MOVE:B,PHASE_END:S,PHASE_CANCEL:x},e.fn.swipe.directions={LEFT:o,RIGHT:a,UP:r,DOWN:l,IN:d,OUT:h},e.fn.swipe.pageScroll={NONE:p,HORIZONTAL:k,VERTICAL:v,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Share=e()}(function(){"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,o;return o=function(e){return function(o){var a,r;r=(a=t.className.split(/\s+/)).indexOf(o),e(a,r,o),t.className=a.join(" ")}},t=this,Object.defineProperty(e={add:o(function(e,t,o){~t||e.push(o)}),remove:o(function(e,t){~t&&e.splice(t,1)}),toggle:o(function(e,t,o){~t?e.splice(t,1):e.push(o)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){return encodeURIComponent(this).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e=function(){function e(){}return e.prototype.extend=function(e,t,o){var a,r;for(r in t)(a=void 0!==e[r])&&"object"==typeof t[r]?this.extend(e[r],t[r],o):(o||!a)&&(e[r]=t[r])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return decodeURIComponent(e=e.to_rfc3986())!==e},e.prototype.encode=function(e){return void 0===e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var o,a,r,l;return null==t&&(t={}),(a={width:500,height:350}).top=screen.height/2-a.height/2,a.left=screen.width/2-a.width/2,(r=(function(){var e;for(o in e=[],t)l=t[o],e.push(o+"="+this.encode(l));return e}).call(this).join("&"))&&(r="?"+r),window.open(e+r,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+a.left+",top="+a.top+",width="+a.width+",height="+a.height)},e}();var e,t={}.hasOwnProperty;return function(o){function a(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null,url:null}}},this.setup(this.element,t),this}return function(e,o){function a(){this.constructor=e}for(var r in o)t.call(o,r)&&(e[r]=o[r]);a.prototype=o.prototype,e.prototype=new a,e.__super__=o.prototype}(a,e),a.prototype.setup=function(e,t){var o,a,r,l;for(r=[e],this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),a=o=0,l=r.length;o<l;a=++o)r[a],this.setup_instance(e,a)},a.prototype.setup_instance=function(e,t){var o,a,r,l,d,h,p,c,u;for(l=e,this.add_class(l,"sharer-"+t),this.inject_html(l),document.getElementById("flipbook-share-facebook").style.display=this.config.networks.facebook.display,document.getElementById("flipbook-share-twitter").style.display=this.config.networks.twitter.display,document.getElementById("flipbook-share-pinterest").style.display=this.config.networks.pinterest.display,document.getElementById("flipbook-share-email").style.display=this.config.networks.email.display,document.getElementById("flipbook-share-google_plus").style.display=this.config.networks.google_plus.display,l.getElementsByTagName("label")[0],a=l.getElementsByClassName("social")[0],p=l.getElementsByTagName("li"),this.add_class(a,"networks-"+this.config.enabled_networks),l.addEventListener("click",(u=this,function(){return u.event_toggle(a)})),o=this,c=[],t=r=0,d=p.length;r<d;t=++r)h=p[t],c.push(h.addEventListener("click",function(){return o.event_network(l,this),o.event_close(a)}));return c},a.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},a.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},a.prototype.event_close=function(e){return this.remove_class(e,"active")},a.prototype.event_network=function(e,t){var o;return o=t.getAttribute("data-network"),this.hook("before",o,e),this["network_"+o](),this.hook("after",o,e)},a.prototype.open=function(){return this.public("open")},a.prototype.close=function(){return this.public("close")},a.prototype.toggle=function(){return this.public("toggle")},a.prototype.public=function(e){var t,o,a,r,l,d;for(d=[],a=o=0,r=(l=document.querySelectorAll(this.element)).length;o<r;a=++o)t=l[a].getElementsByClassName("social")[0],d.push(this["event_"+e](t));return d},a.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},a.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},a.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},a.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},a.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description+"%0D%0A"+this.config.networks.email.url||this.config.url})},a.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},a.prototype.inject_html=function(e){return e.innerHTML="<div class='social load "+this.config.ui.flyout+"'><ul><li id='flipbook-share-pinterest' class='fab fa-pinterest-p skin-color' data-network='pinterest'></li><li id='flipbook-share-twitter' class='fab fa-twitter skin-color' data-network='twitter'></li><li id='flipbook-share-facebook' class='fab fa-facebook-f skin-color' data-network='facebook'></li><li id='flipbook-share-google_plus' class='fab fa-google-plus-g skin-color' data-network='google_plus'></li><li id='flipbook-share-email' class='fas fa-at skin-color' data-network='email'></li></ul></div>"},a.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:((t=document.createElement("script")).text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",(e=document.createElement("div")).id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},a.prototype.hook=function(e,t,o){var a,r;"function"==typeof(a=this.config.networks[t][e])&&void 0!==(r=a.call(this.config.networks[t],o))&&(r=this.normalize_filter_config_updates(r),this.extend(this.config.networks[t],r,!0),this.normalize_network_configuration())},a.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},a.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},a.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},a.prototype.set_global_configuration=function(){var e,t,o,a,r;for(t in r=[],a=this.config.networks){for(o in a[t])null==this.config.networks[t][o]&&(this.config.networks[t][o]=this.config[o]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",r.push(this.config.networks[t].display=e)}return r},a.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},a.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},a}()});